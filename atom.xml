<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>http://blog.kuranado.com</id>
    <title>KURANADO</title>
    <updated>2021-03-28T09:27:34.563Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="http://blog.kuranado.com"/>
    <link rel="self" href="http://blog.kuranado.com/atom.xml"/>
    <subtitle>ç¬”è®°/åšå®¢</subtitle>
    <logo>http://blog.kuranado.com/images/avatar.png</logo>
    <icon>http://blog.kuranado.com/favicon.ico</icon>
    <rights>All rights reserved 2021, KURANADO</rights>
    <entry>
        <title type="html"><![CDATA[ç®€å•å·¥å‚æ¨¡å¼.md]]></title>
        <id>http://blog.kuranado.com/post/jian-dan-gong-han-mo-shi-md/</id>
        <link href="http://blog.kuranado.com/post/jian-dan-gong-han-mo-shi-md/">
        </link>
        <updated>2021-03-28T09:22:46.000Z</updated>
        <summary type="html"><![CDATA[<p>[TOC]</p>
<p>ç°å¦‚ä»Šå„å®¶äº‘å‚å•†éƒ½æ¨å‡ºäº†è‡ªå·±çš„å¯¹è±¡å­˜å‚¨äº§å“ï¼ŒAWS S3ã€é˜¿é‡Œäº‘ OSSã€è…¾è®¯äº‘ COSã€é‡‘å±±äº‘ KS3 ç­‰ç­‰ï¼Œæ•°ä¸èƒœæ•°ï¼Œå¼€å‘è€…ä¸å†éœ€è¦å°†æ–‡ä»¶å­˜å‚¨åˆ°æœ¬åœ°ç£ç›˜ï¼Œä¹Ÿä¸å†éœ€è¦ FastDFS ç­‰æ–‡ä»¶ç³»ç»Ÿï¼Œç›´æ¥ä½¿ç”¨å¯¹è±¡å­˜å‚¨æä¾›çš„å¼ºå¤§ SDKï¼Œå°±å¯ä»¥æ›´é«˜æ•ˆã€å®‰å…¨çš„ç®¡ç†æ–‡ä»¶ã€‚ä½œä¸ºä¸€å®¶è‡´åŠ›æœåŠ¡äºæ±½è½¦ OTA å‡çº§çš„å…¬å¸ï¼Œæ¯å®¶è½¦å‚æä¾›çš„å¯¹è±¡å­˜å‚¨èµ„æºéƒ½ä¸åŒï¼Œå¦‚ç”Ÿäº§æµ·å¤–è½¦å‹çš„ A è½¦å‚ä¼šé€‰ç”¨ S3ï¼Œè€Œåšå›½å†…è½¦å‹çš„ B è½¦å‚åˆ™å¯èƒ½ä¼šé€‰ç”¨ OSSã€‚ä¸€å¥—ä»£ç ï¼Œå¦‚ä½•ä¼˜é›…çš„æ¥å…¥ä¸åŒå¯¹è±¡å­˜å‚¨ä¾¿æ˜¯æˆ‘ä»¬ä»Šå¤©è¦æ¢è®¨çš„é—®é¢˜ï¼</p>
]]></summary>
        <content type="html"><![CDATA[<p>[TOC]</p>
<p>ç°å¦‚ä»Šå„å®¶äº‘å‚å•†éƒ½æ¨å‡ºäº†è‡ªå·±çš„å¯¹è±¡å­˜å‚¨äº§å“ï¼ŒAWS S3ã€é˜¿é‡Œäº‘ OSSã€è…¾è®¯äº‘ COSã€é‡‘å±±äº‘ KS3 ç­‰ç­‰ï¼Œæ•°ä¸èƒœæ•°ï¼Œå¼€å‘è€…ä¸å†éœ€è¦å°†æ–‡ä»¶å­˜å‚¨åˆ°æœ¬åœ°ç£ç›˜ï¼Œä¹Ÿä¸å†éœ€è¦ FastDFS ç­‰æ–‡ä»¶ç³»ç»Ÿï¼Œç›´æ¥ä½¿ç”¨å¯¹è±¡å­˜å‚¨æä¾›çš„å¼ºå¤§ SDKï¼Œå°±å¯ä»¥æ›´é«˜æ•ˆã€å®‰å…¨çš„ç®¡ç†æ–‡ä»¶ã€‚ä½œä¸ºä¸€å®¶è‡´åŠ›æœåŠ¡äºæ±½è½¦ OTA å‡çº§çš„å…¬å¸ï¼Œæ¯å®¶è½¦å‚æä¾›çš„å¯¹è±¡å­˜å‚¨èµ„æºéƒ½ä¸åŒï¼Œå¦‚ç”Ÿäº§æµ·å¤–è½¦å‹çš„ A è½¦å‚ä¼šé€‰ç”¨ S3ï¼Œè€Œåšå›½å†…è½¦å‹çš„ B è½¦å‚åˆ™å¯èƒ½ä¼šé€‰ç”¨ OSSã€‚ä¸€å¥—ä»£ç ï¼Œå¦‚ä½•ä¼˜é›…çš„æ¥å…¥ä¸åŒå¯¹è±¡å­˜å‚¨ä¾¿æ˜¯æˆ‘ä»¬ä»Šå¤©è¦æ¢è®¨çš„é—®é¢˜ï¼</p>
<!-- more -->
<h2 id="æ —å­">æ —å­ğŸŒ°</h2>
<p>ä½œå¦‚ä¸‹å‡è®¾ï¼š</p>
<ul>
<li>A è½¦å‚éœ€è¦ä½¿ç”¨ S3 å¯¹è±¡å­˜å‚¨</li>
<li>B è½¦å‚éœ€è¦ä½¿ç”¨ OSS å¯¹è±¡å­˜å‚¨</li>
<li>C è½¦å‚éœ€è¦ä½¿ç”¨ COS å¯¹è±¡å­˜å‚¨</li>
</ul>
<p>ç¼–å†™ä»£ç å¦‚ä¸‹ï¼š</p>
<h3 id="æ–‡ä»¶æ“ä½œæ¥å£">æ–‡ä»¶æ“ä½œæ¥å£</h3>
<pre><code>import java.io.InputStream;

/**
 * æ–‡ä»¶æ“ä½œæ¥å£
 *
 * @author Xinling Jing
 * @date 2021-03-28 14:25
 */
public interface FileApi {

    /**
     * ä¸Šä¼ æ–‡ä»¶
     *
     * @param inputStream æ–‡ä»¶è¾“å…¥æµ
     * @param objectKey æ–‡ä»¶è·¯å¾„
     */
    void uploadFile(InputStream inputStream, String objectKey);

    /**
     * è·å–æ–‡ä»¶ä¸‹è½½ Url
     *
     * @param objectKey æ–‡ä»¶è·¯å¾„
     * @return ä¸‹è½½ Url
     */
    String getUrl(String objectKey);
}
</code></pre>
<h3 id="s3-æ–‡ä»¶æ“ä½œå®ç°ç±»">S3 æ–‡ä»¶æ“ä½œå®ç°ç±»</h3>
<pre><code>import java.io.InputStream;

/**
 * AWS S3 å¯¹è±¡å­˜å‚¨æ–‡ä»¶æ“ä½œå®ç°
 *
 * @author Xinling Jing
 * @date 2021-03-28 14:31
 */
public class S3FileApiImpl implements FileApi {

    @Override
    public void uploadFile(InputStream inputStream, String objectKey) {
        System.out.println(&quot;æ–‡ä»¶å·²æˆåŠŸä¸Šä¼ åˆ° S3&quot;);
    }

    @Override
    public String getUrl(String objectKey) {
        return &quot;https://bucket.s3-website.us-west-2.amazonaws.com/&quot; + objectKey;
    }
}
</code></pre>
<p>ä¸ºäº†ç¤ºä¾‹ç®€å•ï¼Œæ­¤å¤„å¹¶æ²¡æœ‰çœŸçš„æŠŠæ–‡ä»¶ä¸Šä¼ åˆ°å¯¹è±¡å­˜å‚¨ï¼Œä¸‹åŒ</p>
<h3 id="oss-æ–‡ä»¶æ“ä½œå®ç°ç±»">OSS æ–‡ä»¶æ“ä½œå®ç°ç±»</h3>
<pre><code>import java.io.InputStream;

/**
 * é˜¿é‡Œ OSS å¯¹è±¡å­˜å‚¨æ–‡ä»¶æ“ä½œå®ç°
 *
 * @author Xinling Jing
 * @date 2021-03-28 14:26
 */
public class OssFileApiImpl implements FileApi {

    @Override
    public void uploadFile(InputStream inputStream, String objectKey) {
        System.out.println(&quot;æ–‡ä»¶å·²æˆåŠŸä¸Šä¼ åˆ° OSS&quot;);
    }

    @Override
    public String getUrl(String objectKey) {
        return &quot;https://bucket.oss-cn-shanghai.aliyuncs.com/&quot; + objectKey;
    }
}
</code></pre>
<h3 id="cos-æ–‡ä»¶æ“ä½œå®ç°ç±»">COS æ–‡ä»¶æ“ä½œå®ç°ç±»</h3>
<pre><code>import java.io.InputStream;

/**
 * è…¾è®¯äº‘ COS å¯¹è±¡å­˜å‚¨æ–‡ä»¶æ“ä½œå®ç°
 *
 * @author Xinling Jing
 * @date 2021-03-28 14:32
 */
public class CosFileApiImpl implements FileApi {

    @Override
    public void uploadFile(InputStream inputStream, String objectKey) {
        System.out.println(&quot;æ–‡ä»¶å·²æˆåŠŸä¸Šä¼ åˆ° COS&quot;);
    }

    @Override
    public String getUrl(String objectKey) {
        return &quot;https://bucket.cos.ap-shanghai.myqcloud.com/&quot; + objectKey;
    }
}
</code></pre>
<h3 id="å®¢æˆ·ç«¯æµ‹è¯•">å®¢æˆ·ç«¯æµ‹è¯•</h3>
<pre><code>/**
 * æµ‹è¯•å®¢æˆ·ç«¯
 *
 * @author Xinling Jing
 * @date 2021-03-28 14:34
 */
public class Client {

    public static void main(String[] args) {

        // å¯¹è±¡å­˜å‚¨ç±»å‹
        String type = &quot;OSS&quot;;

        FileApi fileApi = null;
        switch (type.toUpperCase()) {
            case &quot;S3&quot;:
                fileApi = new S3FileApiImpl();
                break;
            case &quot;OSS&quot;:
                fileApi = new OssFileApiImpl();
                break;
            case &quot;COS&quot;:
                fileApi = new CosFileApiImpl();
                break;
            default:
                break;
        }

        if (fileApi == null) {
            System.out.println(&quot;æ–‡ä»¶æ“ä½œå®ç°ç±»åˆ›å»ºå¤±è´¥&quot;);
            return;
        }

        String path = &quot;user/avatar/1234.png&quot;;
        fileApi.uploadFile(null, path);
        String downloadUrl = fileApi.getUrl(path);
        System.out.println(&quot;æ–‡ä»¶ä¸‹è½½ url: &quot; + downloadUrl);
    }
}
</code></pre>
<p>è¿™é‡Œçš„å¯¹è±¡å­˜å‚¨ç±»å‹ typeï¼Œåœ¨å®é™…å¼€å‘ä¸­å¯ä»¥æ”¾åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œç„¶åé€šè¿‡ <code>@Value</code> æ³¨è§£æ³¨å…¥ï¼Œå¯¹äºæ–‡ç« ä¸€å¼€å§‹çš„å‡è®¾ï¼Œä¸º A è½¦å‚éƒ¨ç½²çš„ä»£ç ï¼Œé…ç½®æ–‡ä»¶ä¸­å°±é…ç½®ä¸º S3ï¼ŒB è½¦å‚é…ç½®ä¸º OSSï¼ŒC è½¦å‚åˆ™é…ç½®ä¸º COSã€‚</p>
<p>è¾“å‡ºç»“æœï¼š</p>
<pre><code>æ–‡ä»¶å·²æˆåŠŸä¸Šä¼ åˆ° OSS
æ–‡ä»¶ä¸‹è½½ url: https://bucket.oss-cn-shanghai.aliyuncs.com/user/avatar/1234.png
</code></pre>
<p>è¿™æ ·ä¸€æ¥ï¼Œä»£ç å°±å®Œæˆå•¦ï¼</p>
<figure data-type="image" tabindex="1"><img src="http://image.kuranado.com/blog/1616923542.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></figure>
<p>å…ˆåˆ«é«˜å…´çš„å¤ªæ—©ã€‚å®é™…ä¸šåŠ¡ä¸­å¾€å¾€ä¸æ­¢ä¸€å¤„åœ°æ–¹éœ€è¦è·å¾—æ–‡ä»¶æ“ä½œæ¥å£ï¼Œæ‰€ä»¥ä¸‹é¢è¿™æ®µä»£ç å¯èƒ½ä¼šé‡å¤å‡ºç°å¤šæ¬¡ï¼š</p>
<pre><code>FileApi fileApi = null;
switch (type.toUpperCase()) {
    case &quot;S3&quot;:
        fileApi = new S3FileApiImpl();
        break;
    case &quot;OSS&quot;:
        fileApi = new OssFileApiImpl();
        break;
    case &quot;COS&quot;:
        fileApi = new CosFileApiImpl();
        break;
    default:
        break;
}
</code></pre>
<figure data-type="image" tabindex="2"><img src="http://image.kuranado.com/blog/1616923555.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></figure>
<p>åˆ«ç€æ€¥å˜›ï¼ä½¿ç”¨ç®€å•å·¥å‚æ¨¡å¼å°±å¯ä»¥è½»æ¾è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æ—¢ç„¶ç§°ä¹‹ä¸ºâ€œç®€å•â€å·¥å‚æ¨¡å¼ï¼Œä»¥å¤§å®¶çš„èªæ˜æ‰æ™ºï¼Œé‚£è‚¯å®šå°±æ˜¯ä¸€å­¦å°±ä¼šï¼</p>
<h2 id="ç®€å•å·¥å‚æ¨¡å¼">ç®€å•å·¥å‚æ¨¡å¼</h2>
<blockquote>
<p>æä¾›ä¸€ä¸ªåˆ›å»ºå¯¹è±¡å®ä¾‹çš„åŠŸèƒ½ï¼Œè€Œæ— éœ€å…³å¿ƒå…¶å…·ä½“å®ç°ã€‚è¢«åˆ›å»ºå®ä¾‹çš„ç±»å‹å¯ä»¥æ˜¯æ¥å£ã€æŠ½è±¡ç±»ï¼Œä¹Ÿå¯ä»¥æ˜¯å…·ä½“çš„ç±»</p>
</blockquote>
<p>åœ¨ Java ä¸­ï¼Œæ¥å£çš„æ€æƒ³æ˜¯å°è£…éš”ç¦»ï¼Œæ¨¡å—å¤–éƒ¨çš„å®¢æˆ·ç«¯å´è¿èƒŒäº†è¿™ä¸€ç‚¹ï¼Œå› ä¸ºå®¢æˆ·ç«¯çŸ¥é“äº†æ‰€æœ‰çš„å®ç°ç±»ã€‚æˆ‘ä»¬çš„ä»£ç åªç”¨åˆ°äº†æ¥å£çš„<strong>å¤šæ€</strong>ç‰¹æ€§ï¼Œæ¥å£æœ€é‡è¦çš„<strong>å°è£…éš”ç¦»</strong>å¹¶æ²¡æœ‰ä½“ç°å‡ºæ¥ã€‚<br>
æ—¢ç„¶<strong>æ¨¡å—å¤–éƒ¨ä¸åº”è¯¥çŸ¥é“æ¨¡å—å†…éƒ¨çš„ç»†èŠ‚ï¼Œé‚£æˆ‘ä»¬å°±åœ¨æ¨¡å—å†…éƒ¨æ–°å»ºä¸€ä¸ªç®€å•å·¥å‚ç±»</strong>ï¼Œå°†åŸå…ˆä½äºå®¢æˆ·ç«¯ä¸­çš„åˆ›å»ºå®ä¾‹æ–¹æ³•ç§»åŠ¨åˆ°ç®€å•å·¥å‚ç±»å½“ä¸­ï¼Œè¿™æ ·æ¨¡å—å¤–éƒ¨çš„å®¢æˆ·ç«¯é€šè¿‡ç®€å•å·¥å‚ç±»è¿”å›çš„æ¥å£å¯¹è±¡ï¼Œå°±å¯ä»¥æ‹¥æœ‰æƒ³è¦çš„åŠŸèƒ½ã€‚å®¢æˆ·ç«¯å°†é€‰æ‹©å®ç°ç±»çš„å·¥ä½œäº¤ç»™äº†ç®€å•å·¥å‚ç±»ï¼Œè‡ªå·±ä¸å†éœ€è¦çŸ¥é“æ¨¡å—å†…éƒ¨ç»†èŠ‚ï¼Œä¹Ÿå°±ä¸è„±ç¦»å°è£…éš”ç¦»æ€æƒ³äº†</p>
<h3 id="ç®€å•å·¥å‚ç»“æ„å›¾">ç®€å•å·¥å‚ç»“æ„å›¾</h3>
<figure data-type="image" tabindex="3"><img src="http://image.kuranado.com/blog/1616923566.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></figure>
<h3 id="ç®€å•å·¥å‚ç±»">ç®€å•å·¥å‚ç±»</h3>
<pre><code>/**
 * æ–‡ä»¶æ“ä½œå®ç°ç±»å·¥å‚
 *
 * @author Xinling Jing
 * @date 2021-03-28 14:33
 */
public class FileFactory {

    private FileFactory() {
    }

    /**
     * æ ¹æ®å¤–éƒ¨ä¼ å…¥çš„å­˜å‚¨ç±»å‹ï¼Œå†³å®šåˆ›å»ºä½•ç§å¯¹è±¡å­˜å‚¨æ–‡ä»¶æ“ä½œå®ç°ç±»
     *
     * @param type å­˜å‚¨ç±»å‹
     * @return å…·ä½“çš„å¯¹è±¡å­˜å‚¨å®ç°ç±»
     */
    public static FileApi createFileApi(String type) {
        switch (type.toUpperCase()) {
            case &quot;S3&quot;:
                return new S3FileApiImpl();
            case &quot;OSS&quot;:
                return new OssFileApiImpl();
            case &quot;COS&quot;:
                return new CosFileApiImpl();
            default:
                return null;
        }
    }
}
</code></pre>
<h3 id="å®¢æˆ·ç«¯æµ‹è¯•-2">å®¢æˆ·ç«¯æµ‹è¯•</h3>
<pre><code>/**
 * æµ‹è¯•å®¢æˆ·ç«¯
 *
 * @author Xinling Jing
 * @date 2021-03-28 14:34
 */
public class Client {

    public static void main(String[] args) {

        // å¯¹è±¡å­˜å‚¨ç±»å‹
        String type = &quot;OSS&quot;;
        FileApi fileApi = FileFactory.createFileApi(type);

        if (fileApi == null) {
            System.out.println(&quot;æ–‡ä»¶æ“ä½œå®ç°ç±»åˆ›å»ºå¤±è´¥&quot;);
            return;
        }

        String path = &quot;user/avatar/1234.png&quot;;
        fileApi.uploadFile(null, path);
        String downloadUrl = fileApi.getUrl(path);
        System.out.println(&quot;æ–‡ä»¶ä¸‹è½½ url: &quot; + downloadUrl);
    }
}
</code></pre>
<p>è¾“å‡ºç»“æœï¼š</p>
<pre><code>æ–‡ä»¶å·²æˆåŠŸä¸Šä¼ åˆ° OSS
æ–‡ä»¶ä¸‹è½½ url: https://bucket.oss-cn-shanghai.aliyuncs.com/user/avatar/1234.png
</code></pre>
<p>åˆ°æ­¤ä»£ç å°±æ”¹é€ å®Œæˆäº†ï¼Œå³ä¾¿æœ‰å¤šä¸ªåœ°æ–¹éœ€è¦è¿›è¡Œæ–‡ä»¶æ“ä½œï¼Œéƒ½åªéœ€è¦æ‰§è¡Œ <code>FileApi fileApi = FileFactory.createFileApi(type);</code> å°±å¯ä»¥è·å¾—å…·ä½“å®ä¾‹ï¼Œè¿™æ ·æ¨¡å—å¤–éƒ¨æ‰ç®—çœŸæ­£åšåˆ°<strong>é¢å‘æ¥å£ç¼–ç¨‹</strong></p>
<h3 id="ç±»ç»“æ„å›¾">ç±»ç»“æ„å›¾</h3>
<figure data-type="image" tabindex="4"><img src="http://image.kuranado.com/blog/1616923578.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></figure>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<ul>
<li>ã€Šç ”ç£¨è®¾è®¡æ¨¡å¼ã€‹</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[çŠ¶æ€æ¨¡å¼.md]]></title>
        <id>http://blog.kuranado.com/post/zhuang-tai-mo-shi-md/</id>
        <link href="http://blog.kuranado.com/post/zhuang-tai-mo-shi-md/">
        </link>
        <updated>2021-03-27T12:26:10.000Z</updated>
        <content type="html"><![CDATA[<p>[TOC]</p>
<p>ç‰©è”ç½‘è®¾å¤‡åœ¨æ•´ä¸ª OTA çš„å‡çº§è¿‡ç¨‹ä¸­ï¼Œä¼šå°†è‡ªèº«å½“å‰çŠ¶æ€ä¸ŠæŠ¥ç»™ OTA ç®¡ç†å¹³å°ï¼Œç®¡ç†å‘˜ä»å¹³å°å¯ä»¥æŸ¥è¯¢åˆ°æ‰€æœ‰è®¾å¤‡çš„å†å²çŠ¶æ€å’Œå½“å‰çŠ¶æ€ã€‚åœ¨ä»£ç å¼€å‘å‰ï¼Œäº§å“éœ€è¦å®šä¹‰å¥½è®¾å¤‡åº”è¯¥å…·æœ‰å“ªäº›çŠ¶æ€ï¼Œæ¯”å¦‚è¯´åˆæœŸå¯ä»¥å®šä¹‰å¦‚ä¸‹å‡ ä¸ªçŠ¶æ€ï¼š</p>
<ol>
<li>æœªæ£€æµ‹</li>
<li>æ£€æµ‹æ— æ–°ç‰ˆæœ¬</li>
<li>æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬</li>
<li>ä¸‹è½½ä¸­</li>
</ol>
<p>æœ‰äº†çŠ¶æ€ï¼Œè¿˜è¦å®šä¹‰çŠ¶æ€ä¹‹é—´çš„<strong>æ‰­è½¬å…³ç³»</strong>ï¼Œæ¯”å¦‚è®¾å¤‡å½“å‰çŠ¶æ€ä¸ºæœªæ£€æµ‹çŠ¶æ€ï¼Œåœ¨è®¾å¤‡æ‰§è¡Œæ£€æµ‹åŠ¨ä½œåï¼Œè®¾å¤‡çŠ¶æ€å¯ä»¥å˜æ›´ä¸ºæ£€æµ‹æ— æ–°ç‰ˆæœ¬æˆ–è€…æ˜¯æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬ï¼Œè€Œä¸èƒ½å˜æˆä¸‹è½½ä¸­ã€‚é’ˆå¯¹ä¸Šé¢å››ä¸ªçŠ¶æ€ï¼Œå‡è®¾å­˜åœ¨å¦‚ä¸‹æ‰­è½¬å…³ç³»ï¼š</p>
<ul>
<li>æœªæ£€æµ‹ -&gt; æ£€æµ‹æ— æ–°ç‰ˆæœ¬</li>
<li>æœªæ£€æµ‹ -&gt; æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬</li>
<li>æ£€æµ‹æ— æ–°ç‰ˆæœ¬ -&gt; æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬</li>
<li>æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬ -&gt; ä¸‹è½½ä¸­</li>
<li>æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬ -&gt; æ£€æµ‹æ— æ–°ç‰ˆæœ¬</li>
<li>ä¸‹è½½ä¸­ -&gt; æ£€æµ‹æ— æ–°ç‰ˆæœ¬</li>
<li>ä¸‹è½½ä¸­ -&gt; æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬</li>
</ul>
<p>ç”¨ä¸€å¼ å›¾æ¦‚æ‹¬ï¼š<br>
<img src="http://image.kuranado.com/blog/1616848124.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></p>
<p>OKï¼Œè‡³æ­¤ï¼Œäº§å“å·²ç»å®šä¹‰å¥½äº†ä¸šåŠ¡é€»è¾‘ï¼Œæ¥ä¸‹æ¥å°±è¯¥ç¨‹åºå‘˜å‡ºé©¬äº†ï¼<br>
é¦–å…ˆå®šä¹‰çŠ¶æ€æ¥å£ï¼š</p>
<pre><code>/**
 * è®¾å¤‡çŠ¶æ€æ¥å£
 *
 * @author Xinling Jing
 * @date 2021-03-27 14:13
 */
public interface DeviceState {

    int UN_CHECK_STATE = 1;
    int CHECK_NO_NEW_STATE = 2;
    int CHECK_HAS_NEW_STATE = 3;
    int DOWNLOADING_STATE = 4;

    /**
     * æœªæ£€æµ‹
     */
    void unCheck();

    /**
     * æœªæ£€æµ‹åˆ°æ–°ç‰ˆæœ¬
     */
    void checkNoNew();

    /**
     * æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬
     */
    void checkHasNew();

    /**
     * ä¸‹è½½ä¸­
     */
    void downloading();
}
</code></pre>
<p>çŠ¶æ€æ¥å£å®ç°ç±»ï¼š</p>
<pre><code>/**
 * è®¾å¤‡çŠ¶æ€æ¥å£å®ç°ç±»
 *
 * @author Xinling Jing
 * @date 2021-03-27 14:15
 */
public class DeviceStateImpl implements DeviceState {

    /**
     * è®¾å¤‡å½“å‰çŠ¶æ€
     */
    private int state;

    public DeviceStateImpl(int state) {
        this.state = state;
    }

    @Override
    public void unCheck() {
        switch (state) {
            case UN_CHECK_STATE:
                // do nothing
                System.out.println(&quot;æœªæ£€æµ‹&quot;);
                break;
            case CHECK_NO_NEW_STATE:
                // do nothing
                System.out.println(&quot;æ£€æµ‹æ— æ–°ç‰ˆæœ¬ -X-&gt; æœªæ£€æµ‹&quot;);
                break;
            case CHECK_HAS_NEW_STATE:
                // do nothing
                System.out.println(&quot;æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬ -X-&gt; æœªæ£€æµ‹&quot;);
                break;
            case DOWNLOADING_STATE:
                // do nothing
                System.out.println(&quot;ä¸‹è½½ä¸­ -X-&gt; æœªæ£€æµ‹&quot;);
                break;
            default:
                break;
        }
    }

    @Override
    public void checkNoNew() {
        switch (state) {
            case UN_CHECK_STATE:
                System.out.println(&quot;æœªæ£€æµ‹ -&gt; æ£€æµ‹æ— æ–°ç‰ˆæœ¬&quot;);
                this.state = CHECK_NO_NEW_STATE;
                break;
            case CHECK_NO_NEW_STATE:
                // do nothing
                System.out.println(&quot;æ£€æµ‹æ— æ–°ç‰ˆæœ¬&quot;);
                break;
            case CHECK_HAS_NEW_STATE:
                // do nothing
                System.out.println(&quot;æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬ -X-&gt; æ£€æµ‹æ— æ–°ç‰ˆæœ¬&quot;);
                break;
            case DOWNLOADING_STATE:
                System.out.println(&quot;ä¸‹è½½ä¸­ -&gt; æ£€æµ‹æ— æ–°ç‰ˆæœ¬&quot;);
                state = CHECK_NO_NEW_STATE;
                break;
            default:
                break;
        }
    }

    @Override
    public void checkHasNew() {
        switch (state) {
            case UN_CHECK_STATE:
                System.out.println(&quot;æœªæ£€æµ‹ -&gt; æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬&quot;);
                this.state = CHECK_HAS_NEW_STATE;
                break;
            case CHECK_NO_NEW_STATE:
                System.out.println(&quot;æ£€æµ‹æ— æ–°ç‰ˆæœ¬ -&gt; æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬&quot;);
                this.state = CHECK_HAS_NEW_STATE;
                break;
            case CHECK_HAS_NEW_STATE:
                // do nothing
                System.out.println(&quot;æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬&quot;);
                break;
            case DOWNLOADING_STATE:
                System.out.println(&quot;ä¸‹è½½ä¸­ -&gt; æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬&quot;);
                state = CHECK_HAS_NEW_STATE;
                break;
            default:
                break;
        }
    }

    @Override
    public void downloading() {
        switch (state) {
            case UN_CHECK_STATE:
                // do nothing
                System.out.println(&quot;æœªæ£€æµ‹ -X-&gt; ä¸‹è½½ä¸­&quot;);
                break;
            case CHECK_NO_NEW_STATE:
                // do nothing
                System.out.println(&quot;æ£€æµ‹æ— æ–°ç‰ˆæœ¬ -X-&gt; ä¸‹è½½ä¸­&quot;);
                break;
            case CHECK_HAS_NEW_STATE:
                System.out.println(&quot;æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬ -&gt; ä¸‹è½½ä¸­&quot;);
                state = DOWNLOADING_STATE;
                break;
            case DOWNLOADING_STATE:
                // do nothing
                System.out.println(&quot;ä¸‹è½½ä¸­&quot;);
                break;
            default:
                break;
        }
    }
}
</code></pre>
<p>æµ‹è¯•ï¼š</p>
<pre><code>/**
 * éçŠ¶æ€æ¨¡å¼ä¸‹çš„çŠ¶æ€æ‰­è½¬
 *
 * @author Xinling Jing
 * @date 2021-03-27 14:08
 */
public class Client {

    public static void main(String[] args) {

        // è®¾ç½®åˆä½¿çŠ¶æ€ä¸ºæœªæ£€æµ‹
        DeviceState deviceState = new DeviceStateImpl(DeviceState.UN_CHECK_STATE);

        // è®¾å¤‡å¼€å§‹ä¸ŠæŠ¥è‡ªèº«çŠ¶æ€
        // è¿‡æ¸¡åˆ°æ£€æµ‹æ— æ–°ç‰ˆæœ¬çŠ¶æ€
        deviceState.checkNoNew();

        // è¿‡æ¸¡åˆ°æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬çŠ¶æ€
        deviceState.checkHasNew();

        // è¿‡æ¸¡åˆ°æœªæ£€æµ‹çŠ¶æ€ï¼ˆåº”è¯¥è¿‡æ¸¡å¤±è´¥ï¼‰
        deviceState.unCheck();

        // è¿‡æ¸¡åˆ°ä¸‹è½½ä¸­çŠ¶æ€
        deviceState.downloading();
    }
}
</code></pre>
<p>è¾“å‡ºç»“æœï¼š</p>
<pre><code>æœªæ£€æµ‹ -&gt; æ£€æµ‹æ— æ–°ç‰ˆæœ¬
æ£€æµ‹æ— æ–°ç‰ˆæœ¬ -&gt; æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬
æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬ -X-&gt; æœªæ£€æµ‹
æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬ -&gt; ä¸‹è½½ä¸­
</code></pre>
<p>é‡ç‚¹ä¾¿åœ¨äºä¸Šé¢çš„çŠ¶æ€å®ç°ç±» DeviceStateImplï¼Œè¯¥ç±»å®šä¹‰äº†è®¾å¤‡èƒ½å¦ä»å½“å‰çŠ¶æ€è½¬æ¢ä¸ºè®¾å¤‡ä¸ŠæŠ¥çš„æœ€æ–°çŠ¶æ€ã€‚ä¸¾ä¾‹è¯´ï¼šè®¾å¤‡å½“å‰çŠ¶æ€ä¸ºæ£€æµ‹æœ‰æ–°ç‰ˆæœ¬ï¼Œå¦‚æœè®¾å¤‡ä¸ŠæŠ¥æœ€æ–°çŠ¶æ€ä¸ºä¸‹è½½ä¸­ï¼Œåˆ™å°†è®¾å¤‡å½“å‰çŠ¶æ€åˆ‡æ¢æˆä¸‹è½½ä¸­ï¼Œå¹¶å¤„ç†ç›¸å…³çš„ä¸šåŠ¡é€»è¾‘ã€‚ä¸ºäº†ç¤ºä¾‹ç®€å•ï¼Œæ­¤å¤„ç”¨æ‰“å°è¾“å‡ºçœå»äº†ç›¸å…³çš„ä¸šåŠ¡å¤„ç†ã€‚</p>
<p>æ˜¾è€Œæ˜“è§ï¼Œä¸Šé¢çš„å®ç°æ–¹å¼å­˜åœ¨å¦‚ä¸‹ç¼ºç‚¹ï¼š</p>
<ul>
<li>æ‰€æœ‰ä¸šåŠ¡é€»è¾‘éƒ½é›†ä¸­åœ¨ DeviceStateImpl ç±»ä¸­ï¼Œä¸æ˜“ç»´æŠ¤</li>
<li>å­˜åœ¨å¤§é‡ switch æˆ– if åˆ¤æ–­ï¼Œä»£ç è‡ƒè‚¿</li>
<li>å½“äº§å“è¦æ±‚å¢åŠ çŠ¶æ€æ—¶ï¼Œéœ€ä¿®æ”¹ DeviceState æ¥å£å¢åŠ æ–¹æ³•ï¼ŒDeviceStateImpl å¢åŠ å¯¹åº”æ–¹æ³•å®ç°ï¼ŒåŒæ—¶ï¼Œå¯¹äºæ¯ä¸ªæ–¹æ³•ä¸­çš„ switch éƒ½éœ€è¦å¢åŠ å¯¹åº”çš„ case æˆ– if åˆ¤æ–­ã€‚å¦‚éšç€å…¬å¸ä¸šåŠ¡çš„å‘å±•ï¼Œéœ€è¦å®šä¹‰æ›´å¤šçš„çŠ¶æ€ï¼Œå°±å¯èƒ½æ¼”å˜æˆä¸‹å›¾è¿™ç§æƒ…å†µï¼š<br>
<img src="http://image.kuranado.com/blog/1616848145.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></li>
</ul>
<p>è¿™ã€‚ã€‚ã€‚ä»£ç æ¯æ¬¡ä¿®æ”¹èµ·æ¥ç®€ç›´æ˜¯ä¸€åœºå™©æ¢¦ï¼<br>
<img src="http://image.kuranado.com/blog/1616848154.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></p>
<p>ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥çŠ¶æ€æ¨¡å¼</p>
<blockquote>
<p>å½“ä¸€ä¸ªå¯¹è±¡å†…åœ¨çŠ¶æ€æ”¹å˜æ—¶ï¼ŒçŠ¶æ€çš„å˜æ›´å¼•èµ·äº†è¡Œä¸ºçš„å˜æ›´ï¼Œä»å¤–éƒ¨çœ‹èµ·æ¥å°±å¥½åƒè¿™ä¸ªå¯¹è±¡å¯¹åº”çš„ç±»å‘ç”Ÿäº†æ”¹å˜ä¸€æ ·</p>
</blockquote>
<h2 id="çŠ¶æ€æ¨¡å¼å„ä¸ªè§’è‰²">çŠ¶æ€æ¨¡å¼å„ä¸ªè§’è‰²</h2>
<h3 id="state-æŠ½è±¡çŠ¶æ€è§’è‰²">State æŠ½è±¡çŠ¶æ€è§’è‰²</h3>
<ul>
<li>æ¥å£æˆ–è€…æ˜¯æŠ½è±¡ç±»ï¼Œè´Ÿè´£å®šä¹‰çŠ¶æ€</li>
<li>å°è£…ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œé€šè¿‡ä¸Šä¸‹æ–‡å¯¹è±¡å®ç°çŠ¶æ€åˆ‡æ¢</li>
</ul>
<h3 id="concretestate-å…·ä½“çŠ¶æ€è§’è‰²">ConcreteState å…·ä½“çŠ¶æ€è§’è‰²</h3>
<ul>
<li>ç»§æ‰¿æŠ½è±¡çŠ¶æ€è§’è‰²ï¼ˆæˆ–å®ç°æŠ½è±¡çŠ¶æ€æ¥å£ï¼‰</li>
<li>å®šä¹‰æœ¬çŠ¶æ€è¦åšå“ªäº›äº‹æƒ…ï¼Œä»¥åŠæœ¬çŠ¶æ€å¦‚ä½•<strong>è¿‡æ¸¡</strong>åˆ°å…¶å®ƒçŠ¶æ€</li>
</ul>
<h3 id="statecontext-ä¸Šä¸‹æ–‡å¯¹è±¡">StateContext ä¸Šä¸‹æ–‡å¯¹è±¡</h3>
<ul>
<li>å®šä¹‰å®¢æˆ·ç«¯éœ€è¦çš„æ¥å£</li>
<li>è´Ÿè´£å…·ä½“çŠ¶æ€çš„åˆ‡æ¢</li>
</ul>
<p>çŠ¶æ€æ¨¡å¼ç»“æ„ï¼š<br>
<img src="http://image.kuranado.com/blog/1616848164.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></p>
<h2 id="å®æˆ˜">å®æˆ˜</h2>
<h3 id="è®¾å¤‡çŠ¶æ€æŠ½è±¡ç±»">è®¾å¤‡çŠ¶æ€æŠ½è±¡ç±»</h3>
<pre><code>/**
 * @version 1.0.0
 * @author: Xinling Jing
 * @date: 2021-03-16 22:25
 */
public abstract class DeviceState {

    protected StateContext stateContext;

    public void setStateContext(StateContext stateContext) {
        this.stateContext = stateContext;
    }

    /**
     * æœªæ£€æµ‹
     */
    public abstract void unCheck();

    /**
     * æœªæ£€æµ‹åˆ°æ–°ç‰ˆæœ¬
     */
    public abstract void checkNoNew();

    /**
     * æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬
     */
    public abstract void checkHasNew();

    /**
     * ä¸‹è½½ä¸­
     */
    public abstract void downloading();

}
</code></pre>
<p>è®¾å¤‡çŠ¶æ€æŠ½è±¡ç±»æŒæœ‰çŠ¶æ€ä¸Šä¸‹æ–‡ï¼ˆStateContextï¼‰å¼•ç”¨ï¼Œä»¥ä¾¿å…·ä½“å­ç±»å¯ä»¥ä½¿ç”¨ StateContext å¯¹è±¡æ›´æ–°çŠ¶æ€ã€‚<br>
<strong>å° Tipï¼š</strong><br>
æ­¤å¤„ä¹Ÿå¯ä»¥æŠŠ StateContext ä» DeviceState æŠ½è±¡ç±»ä¸­æ‹¿èµ°ï¼Œé€šè¿‡æ–¹æ³•å‚æ•°å°† StateContext å¯¹è±¡ä¼ é€’ç»™å­ç±»ä½¿ç”¨ï¼š</p>
<pre><code>public abstract class DeviceState {

    /**
     * æœªæ£€æµ‹
     */
    public abstract void unCheck(StateContext stateContext);

    /**
     * æœªæ£€æµ‹åˆ°æ–°ç‰ˆæœ¬
     */
    public abstract void checkNoNew(StateContext stateContext);

    /**
     * æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬
     */
    public abstract void checkHasNew(StateContext stateContext);

    /**
     * ä¸‹è½½ä¸­
     */
    public abstract void downloading(StateContext stateContext);

}
</code></pre>
<h3 id="è®¾å¤‡çŠ¶æ€ä¸Šä¸‹æ–‡">è®¾å¤‡çŠ¶æ€ä¸Šä¸‹æ–‡</h3>
<pre><code>/**
 * @version 1.0.0
 * @author: Xinling Jing
 * @date: 2021-03-16 22:26
 */
public class StateContext {

    public final static DeviceState UN_CHECK_STATE = new UnCheckState();
    public final static DeviceState CHECK_NO_NEW_STATE = new CheckNoNewState();
    public final static DeviceState CHECK_HAS_NEW_STATE = new CheckHasNewState();
    public final static DeviceState DOWNLOADING_STATE = new DownloadingState();

    private DeviceState deviceState;

    public void setDeviceState(DeviceState deviceState) {
        this.deviceState = deviceState;
        this.deviceState.setStateContext(this);
    }

    public void unCheck() {
        deviceState.unCheck();
    }

    public void checkNoNew() {
        deviceState.checkNoNew();
    }

    public void checkHasNew() {
        deviceState.checkHasNew();
    }

    public void downloading() {
        deviceState.downloading();
    }
}
</code></pre>
<p>çŠ¶æ€ä¸Šä¸‹æ–‡æä¾›äº†ç›¸å…³çŠ¶æ€åˆ‡æ¢æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯çŠ¶æ€åˆ‡æ¢çš„å…¥å£ã€‚åŒæ—¶ï¼Œ<strong>çŠ¶æ€ä¸Šä¸‹æ–‡æŒæœ‰è®¾å¤‡çŠ¶æ€å¼•ç”¨ï¼Œä»¥é€šè¿‡å…·ä½“çš„è®¾å¤‡çŠ¶æ€å­ç±»å®ŒæˆçŠ¶æ€åˆ‡æ¢</strong>ï¼ˆçœ‹åˆ°è¿™é‡Œï¼Œä¼šå‘ç°çŠ¶æ€æ¨¡å¼çš„ç»“æ„å’Œç­–ç•¥æ¨¡å¼å¦‚å‡ºä¸€è¾™ï¼Œç­–ç•¥æ¨¡å¼ä¹Ÿæ˜¯ç­–ç•¥ä¸Šä¸‹æ–‡æŒæœ‰ç­–ç•¥æ¥å£ï¼‰ã€‚</p>
<p>ä¸Šé¢æåˆ° DeviceState ä¸­å¯ä»¥å°† StateContext é€šè¿‡æ–¹æ³•å‚æ•°çš„å½¢å¼ä¼ é€’ç»™å­ç±»ä½¿ç”¨ï¼Œä¸ä¹‹å¯¹åº”ï¼ŒStateContext éœ€è¦æ”¹é€ å¦‚ä¸‹ï¼Œå…·ä½“ä½¿ç”¨å“ªç§æ–¹å¼å¤§å®¶è‡ªå·±æ–Ÿé…Œï¼š</p>
<pre><code>public class StateContext {

    public final static DeviceState UN_CHECK_STATE = new UnCheckState();
    public final static DeviceState CHECK_NO_NEW_STATE = new CheckNoNewState();
    public final static DeviceState CHECK_HAS_NEW_STATE = new CheckHasNewState();
    public final static DeviceState DOWNLOADING_STATE = new DownloadingState();

    private DeviceState deviceState;

    public void setDeviceState(DeviceState deviceState) {
        this.deviceState = deviceState;
    }

    public void unCheck() {
        deviceState.unCheck(this);
    }

    public void checkNoNew() {
        deviceState.checkNoNew(this);
    }

    public void checkHasNew() {
        deviceState.checkHasNew(this);
    }

    public void downloading() {
        deviceState.downloading(this);
    }
}
</code></pre>
<h3 id="å…·ä½“è®¾å¤‡çŠ¶æ€ç±»">å…·ä½“è®¾å¤‡çŠ¶æ€ç±»</h3>
<p>å…·ä½“çš„çŠ¶æ€å­ç±»ï¼Œå®é™…ä¸Šå°±æ˜¯å°†åŸå…ˆ switch æˆ– if çš„ä»£ç æ‹†åˆ°å…·ä½“çš„ç±»ä¸­<br>
æœªæ£€æµ‹çŠ¶æ€ï¼š</p>
<pre><code>/**
 * @version 1.0.0
 * @author: Xinling Jing
 * @date: 2021-03-16 22:26
 */
public class UnCheckState extends DeviceState {

    @Override
    public void unCheck() {
        // do nothing
        System.out.println(&quot;æœªæ£€æµ‹&quot;);
    }

    @Override
    public void checkNoNew() {
        System.out.println(&quot;æœªæ£€æµ‹ -&gt; æ£€æµ‹æ— æ–°ç‰ˆæœ¬&quot;);
        super.stateContext.setDeviceState(StateContext.UN_CHECK_STATE);
    }

    @Override
    public void checkHasNew() {
        System.out.println(&quot;æœªæ£€æµ‹ -&gt; æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬&quot;);
        stateContext.setDeviceState(StateContext.CHECK_HAS_NEW_STATE);
    }

    @Override
    public void downloading() {
        // do nothing
        System.out.println(&quot;æœªæ£€æµ‹ -X-&gt; ä¸‹è½½ä¸­&quot;);
    }
}
</code></pre>
<p>æ£€æµ‹æ— æ–°ç‰ˆæœ¬çŠ¶æ€ï¼š</p>
<pre><code>/**
 * @version 1.0.0
 * @author: Xinling Jing
 * @date: 2021-03-16 22:26
 */
public class CheckNoNewState extends DeviceState {

    @Override
    public void unCheck() {
        // do nothing
        System.out.println(&quot;æ£€æµ‹æ— æ–°ç‰ˆæœ¬ -X-&gt; æœªæ£€æµ‹&quot;);
    }

    @Override
    public void checkNoNew() {
        // do nothing
        System.out.println(&quot;æ£€æµ‹æ— æ–°ç‰ˆæœ¬&quot;);
    }

    @Override
    public void checkHasNew() {
        System.out.println(&quot;æ£€æµ‹æ— æ–°ç‰ˆæœ¬ -&gt; æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬&quot;);
        stateContext.setDeviceState(StateContext.CHECK_HAS_NEW_STATE);
    }

    @Override
    public void downloading() {
        // do nothing
        System.out.println(&quot;æ£€æµ‹æ— æ–°ç‰ˆæœ¬ -X-&gt; æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬&quot;);
    }
}
</code></pre>
<p>æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬çŠ¶æ€ï¼š</p>
<pre><code>/**
 * @version 1.0.0
 * @author: Xinling Jing
 * @date: 2021-03-16 22:26
 */
public class CheckHasNewState extends DeviceState {

    @Override
    public void unCheck() {
        // do nothing
        System.out.println(&quot;æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬ -X-&gt; æœªæ£€æµ‹&quot;);
    }

    @Override
    public void checkNoNew() {
        System.out.println(&quot;æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬ -X-&gt; æ£€æµ‹æ— æ–°ç‰ˆæœ¬&quot;);
        stateContext.setDeviceState(StateContext.CHECK_NO_NEW_STATE);
    }

    @Override
    public void checkHasNew() {
        // do nothing
        System.out.println(&quot;æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬&quot;);
    }

    @Override
    public void downloading() {
        System.out.println(&quot;æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬ -&gt; ä¸‹è½½ä¸­&quot;);
        stateContext.setDeviceState(StateContext.DOWNLOADING_STATE);
    }
}
</code></pre>
<p>ä¸‹è½½ä¸­çŠ¶æ€ï¼š</p>
<pre><code>/**
 * @author Xinling Jing
 * @version 1.0.0
 * @date 2021-03-15 16:02
 */
public class DownloadingState extends DeviceState {

    @Override
    public void unCheck() {
        // do nothing
        System.out.println(&quot;ä¸‹è½½ä¸­ -X-&gt; æœªæ£€æµ‹&quot;);
    }

    @Override
    public void checkNoNew() {
        System.out.println(&quot;ä¸‹è½½ä¸­ -&gt; æ£€æµ‹æ— æ–°ç‰ˆæœ¬&quot;);
        stateContext.setDeviceState(StateContext.CHECK_NO_NEW_STATE);
    }

    @Override
    public void checkHasNew() {
        System.out.println(&quot;ä¸‹è½½ä¸­ -&gt; æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬&quot;);
        stateContext.setDeviceState(StateContext.CHECK_HAS_NEW_STATE);
    }

    @Override
    public void downloading() {
        // do nothing
        System.out.println(&quot;ä¸‹è½½ä¸­&quot;);
    }

}
</code></pre>
<h3 id="å®¢æˆ·ç«¯æµ‹è¯•">å®¢æˆ·ç«¯æµ‹è¯•</h3>
<pre><code>/**
 * @version 1.0.0
 * @author: Xinling Jing
 * @date: 2021-03-16 22:24
 */
public class Client {

    public static void main(String[] args) {
        // åˆä½¿çŠ¶æ€ä¸ºæœªæ£€æµ‹
        //StateContext stateContext = new StateContext(new UnCheckState());
        StateContext stateContext = new StateContext();

        // è®¾ç½®åˆä½¿çŠ¶æ€
        stateContext.setDeviceState(StateContext.UN_CHECK_STATE);

        // è¿‡æ¸¡åˆ°æ£€æµ‹æ— æ–°ç‰ˆæœ¬çŠ¶æ€
        stateContext.checkNoNew();

        // è¿‡æ¸¡åˆ°æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬çŠ¶æ€
        stateContext.checkHasNew();

        // è¿‡æ¸¡åˆ°æœªæ£€æµ‹çŠ¶æ€ï¼ˆåº”è¯¥è¿‡æ¸¡å¤±è´¥ï¼‰
        stateContext.unCheck();

        // è¿‡æ¸¡åˆ°ä¸‹è½½ä¸­çŠ¶æ€
        stateContext.downloading();
    }
}
</code></pre>
<p>è¾“å‡ºç»“æœï¼š</p>
<pre><code>æœªæ£€æµ‹ -&gt; æ£€æµ‹æ— æ–°ç‰ˆæœ¬
æœªæ£€æµ‹ -&gt; æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬
æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬ -X-&gt; æœªæ£€æµ‹
æ£€æµ‹æœ‰æ–°ç‰ˆæœ¬ -&gt; ä¸‹è½½ä¸­
</code></pre>
<p>åˆ°æ­¤æˆ‘ä»¬å°±é€šè¿‡çŠ¶æ€æ¨¡å¼å®Œæˆäº†ä»£ç æ”¹é€ ï¼Œç±»å›¾å¦‚ä¸‹ï¼š<br>
<img src="http://image.kuranado.com/blog/1616848179.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></p>
<p>è¿™æ—¶å€™å¯èƒ½å°±æœ‰äººè¦é—®äº†ï¼Œå¦‚æœè¦å¢åŠ çŠ¶æ€ï¼Œé‚£ä¸è¿˜æ˜¯è¦ä¿®æ”¹ä»£ç å—ï¼Ÿï¼Ÿï¼Ÿ<br>
<img src="http://image.kuranado.com/blog/1616848190.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></p>
<p>è¯´çš„æ²¡é”™ï¼Œå¦‚æœè¦å¢åŠ çŠ¶æ€ï¼Œä¿®æ”¹ä»£ç ç¡®å®æ˜¯ä¸å¯é¿å…çš„ã€‚ä½†ä¸ä½¿ç”¨çŠ¶æ€æ¨¡å¼çš„æƒ…å†µä¸‹ï¼Œä¿®æ”¹ä»£ç éœ€è¦ä¿®æ”¹åŸæœ‰æ–¹æ³•ä¸‹çš„ switch æˆ– if åˆ¤æ–­ï¼›ä½¿ç”¨çŠ¶æ€æ¨¡å¼çš„æƒ…å†µä¸‹ï¼Œåªéœ€è¦å¢åŠ å¯¹åº”çš„çŠ¶æ€å­ç±»ä»¥åŠå¢åŠ ç›¸åº”çš„æ–¹æ³•å°±å¯ä»¥äº†ï¼Œè™½ç„¶åœ¨å¢åŠ æ–¹æ³•æ—¶ï¼Œä¹Ÿéœ€è¦æ”¹åŠ¨åŸæœ‰çš„çŠ¶æ€ç±»ï¼Œä½†åŸæœ‰æ–¹æ³•å¹¶ä¸éœ€è¦åšä»»ä½•æ”¹åŠ¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒçŠ¶æ€æ¨¡å¼ç¬¦åˆ<strong>å¼€é—­åŸåˆ™</strong>ã€‚</p>
<h2 id="çŠ¶æ€æ¨¡å¼ç¼ºç‚¹">çŠ¶æ€æ¨¡å¼ç¼ºç‚¹</h2>
<p>æ¯å¢åŠ ä¸€ç§çŠ¶æ€ï¼Œå°±éœ€è¦å¢åŠ ä¸€ä¸ªçŠ¶æ€ç±»ï¼Œç±»è†¨èƒ€ä¹Ÿä¼šè®©ä»£ç çœ‹èµ·æ¥æ›´æ‚ä¹±ã€‚å¸¸è§çš„è§£å†³æ–¹æ³•æ˜¯å°†çŠ¶æ€å…¨éƒ¨å­˜åˆ°æ•°æ®åº“ä¸­ï¼Œæ¯”å¦‚å·¥ä½œæµæ¡†æ¶ Activiti å°±æ˜¯å°†çŠ¶æ€å­˜å…¥æ•°æ®åº“ä¸­ï¼Œç„¶åæ ¹æ®çŠ¶æ€æ‰§è¡Œç›¸åº”ç­‰æ“ä½œã€‚</p>
<h2 id="çŠ¶æ€æ¨¡å¼ä¸çŠ¶æ€æœº">çŠ¶æ€æ¨¡å¼ä¸çŠ¶æ€æœº</h2>
<p>è¯´å®Œäº†çŠ¶æ€æ¨¡å¼ï¼Œå°±ä¸å¾—ä¸æä¸€ä¸‹æœ‰é™çŠ¶æ€æœºã€‚<br>
çŠ¶æ€æ¨¡å¼éœ€è¦é’ˆå¯¹ä¸šåŠ¡åœºæ™¯ç¼–å†™å…·ä½“ä»£ç ï¼Œè€ŒçŠ¶æ€æœºåˆ™æ›´é€šç”¨ï¼Œåªéœ€è¦å¼•å…¥çŠ¶æ€æœºæ¡†æ¶ï¼Œç„¶åå®šä¹‰å¥½çŠ¶æ€å’Œäº‹ä»¶å°±å¯ä»¥åšåˆ°çŠ¶æ€æ‰­è½¬äº†ï¼Œæ¯”è‡ªå·±æ‰‹å†™çŠ¶æ€æ¨¡å¼æ›´å¿«æ·ã€‚Spring ä¹Ÿæä¾›äº†çŠ¶æ€æœºå®ç°ï¼Œå¼•å…¥ç›¸å…³ä¾èµ–ï¼Œå°±å¯ä»¥å¿«é€Ÿå¼€å‘ä¸šåŠ¡ä»£ç ã€‚<a href="https://spring.io/projects/spring-statemachine#learn">Spring StateMachine æ–‡æ¡£</a>ã€‚åœ¨è¿™é‡Œä¹Ÿæ¯”è¾ƒæ¨èå¤§å®¶ä½¿ç”¨çŠ¶æ€æœºã€‚</p>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<ul>
<li><a href="http://www.360doc.com/content/17/1113/19/15077656_703518498.shtml">æœ‰é™çŠ¶æ€æœºä¸çŠ¶æ€æ¨¡å¼</a></li>
<li>ã€Šè®¾è®¡æ¨¡å¼ä¹‹ç¦…ã€‹</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¤–è§‚æ¨¡å¼.md]]></title>
        <id>http://blog.kuranado.com/post/wai-guan-mo-shi-md/</id>
        <link href="http://blog.kuranado.com/post/wai-guan-mo-shi-md/">
        </link>
        <updated>2021-02-20T00:21:54.000Z</updated>
        <summary type="html"><![CDATA[<p>æœ€è¿‘åœ¨çœ‹ã€Šç ”ç£¨è®¾è®¡æ¨¡å¼ã€‹ï¼Œçœ‹åˆ°å¤–è§‚æ¨¡å¼æ—¶è§‰å¾—åœ¨ 23 ç§è®¾è®¡æ¨¡å¼ä¸­åº”è¯¥ç®—å¾—ä¸Šæœ€ç®€å•çš„æ¨¡å¼äº†ã€‚æœ¬æ–‡ä»¥é¦™æ²¹åˆ¶ä½œæµç¨‹ä¸ºä¾‹è®²è§£å¤–è§‚æ¨¡å¼ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨çœ‹ã€Šç ”ç£¨è®¾è®¡æ¨¡å¼ã€‹ï¼Œçœ‹åˆ°å¤–è§‚æ¨¡å¼æ—¶è§‰å¾—åœ¨ 23 ç§è®¾è®¡æ¨¡å¼ä¸­åº”è¯¥ç®—å¾—ä¸Šæœ€ç®€å•çš„æ¨¡å¼äº†ã€‚æœ¬æ–‡ä»¥é¦™æ²¹åˆ¶ä½œæµç¨‹ä¸ºä¾‹è®²è§£å¤–è§‚æ¨¡å¼ã€‚</p>
<!-- more -->
<p>[TOC]</p>
<p>é¦–å…ˆæ¥çœ‹çœ‹ä¼ ç»Ÿçš„é¦™æ²¹åˆ¶ä½œåŠæ³•ï¼š</p>
<ol>
<li>æ·˜æ´—èŠéº»ï¼Œå»é™¤èŠéº»é‡Œçš„æ²™åœŸ</li>
<li>å°†èŠéº»æ”¾åˆ°æ—‹è½¬çš„ç‚’é”…é‡Œç‚’è‡³å‡ºçƒŸï¼Œçº¦ 40 åˆ†é’Ÿå·¦å³</li>
<li>ç‚’å¥½çš„èŠéº»ä¸­ç­›é€‰æ‰åŠ£è´¨çš„èŠéº»</li>
<li>èŠéº»æ”¾åˆ°çŸ³ç£¨ä¸Šè¿›è¡Œç£¨é…±ï¼Œç£¨å¥½çš„é…±å€’è¿›å¤§é”…é‡Œ</li>
<li>å°†å¼€æ°´å€’è¿›æœ‰é¦™æ²¹é…±çš„å¤§é”…é‡Œè¿›è¡Œæ…æ‹Œå‡ºæ²¹</li>
<li>æŠŠé¦™æ²¹è£…åœ¨æ¡¶é‡Œè¿›è¡Œæ²‰æ·€ï¼Œå‡†å¤‡å‡ºå”®</li>
</ol>
<p>æ€»ç»“ä¸€ä¸‹ä¸Šé¢çš„åˆ¶ä½œæµç¨‹ï¼Œä¸»è¦æµç¨‹å°±æ˜¯ç‚’èŠéº» -&gt; ç£¨é…± -&gt; æ…æ‹Œï¼Œç”¨ç¨‹åºè¡¨ç¤ºå¦‚ä¸‹ï¼š</p>
<pre><code>/**
 * @Author: Xinling Jing
 * @Date: 2018/8/20 0020 ä¸‹åˆ 6:54
 */
public interface SesameOil {

    void execute();
}
</code></pre>
<pre><code>/**
 * ç‚’èŠéº»
 * @Author: Xinling Jing
 * @Date: 2018/8/20 0020 ä¸‹åˆ 6:54
 */
public class Fry implements SesameOil {

    @Override
    public void execute() {
        System.out.println(&quot;å°†èŠéº»æ”¾åˆ°æ—‹è½¬çš„ç‚’é”…é‡Œç‚’è‡³å‡ºçƒŸï¼Œçº¦ 40 åˆ†é’Ÿå·¦å³&quot;);
    }
}
</code></pre>
<pre><code>/**
 * ç£¨é…±
 * @Author: Xinling Jing
 * @Date: 2018/8/20 0020 ä¸‹åˆ 6:55
 */
public class Grind implements SesameOil {

    @Override
    public void execute() {
        System.out.println(&quot;èŠéº»æ”¾åˆ°çŸ³å¢¨ä¸Šè¿›è¡Œç£¨é…±ï¼Œç£¨å¥½çš„é…±å€’è¿›å¤§é”…é‡Œ&quot;);
    }
}
</code></pre>
<pre><code>/**
 * æ…æ‹Œ
 * @Author: Xinling Jing
 * @Date: 2018/8/20 0020 ä¸‹åˆ 6:56
 */
public class Stir implements SesameOil {

    @Override
    public void execute() {
        System.out.println(&quot;å°†å¼€æ°´å€’è¿›æœ‰é¦™æ²¹é…±çš„å¤§é”…é‡Œè¿›è¡Œæ…æ‹Œå‡ºæ²¹&quot;);
    }
}
</code></pre>
<p>å®¢æˆ·ç«¯è°ƒç”¨å¦‚ä¸‹ï¼š</p>
<pre><code>/**
 * @Author: Xinling Jing
 * @Date: 2018/8/20 0020 ä¸‹åˆ 6:54
 */
public class Client {

    public static void main(String[] args) {
        new Fry().execute();
        new Grind().execute();
        new Stir().execute();
    }
}
</code></pre>
<p>ç¨‹åºæ‰“å°ç»“æœï¼š</p>
<pre><code>å°†èŠéº»æ”¾åˆ°æ—‹è½¬çš„ç‚’é”…é‡Œç‚’ä¸Š 40 åˆ†é’Ÿï¼Œç›´è‡³èŠéº»å‡ºçƒŸ
èŠéº»æ”¾åˆ°çŸ³å¢¨ä¸Šè¿›è¡Œç£¨é…±ï¼Œç£¨å¥½çš„é…±å€’è¿›å¤§é”…é‡Œ
å°†å¼€æ°´å€’è¿›æœ‰é¦™æ²¹é…±çš„å¤§é”…é‡Œè¿›è¡Œæ…æ‹Œå‡ºæ²¹
</code></pre>
<p>ä½†å¯¹äºä¸€ä¸ªå¤–è¡Œæ¥è¯´è‡ªå·±åˆ¶ä½œé¦™æ²¹è¿˜éœ€è¦äº†è§£è¿™ä¹ˆå¤šé“å·¥åºæ˜¾ç„¶æ˜¯éå¸¸éº»çƒ¦çš„ï¼Œå¦‚æœæœ‰ä¸€å°æœºå™¨åªè¦æŠŠèŠéº»å€’è¿›æœºå™¨ä¸­ï¼Œå°±å¯ä»¥è‡ªåŠ¨åˆ¶ä½œå‡ºé¦™æ²¹å°±å¥½äº†ï¼Œæ­¤æ—¶å¤–è§‚æ¨¡å¼å°±åº”è¿è€Œç”Ÿäº†</p>
<p>æˆ‘ä»¬å®šä¹‰ä¸€ä¸ª <code>Facade</code> ç±»å¦‚ä¸‹ï¼š</p>
<pre><code>/**
 * @Author: Xinling Jing
 * @Date: 2018/8/21 0021 ä¸Šåˆ 10:53
 */
public class Facade {

    public void powerOn() {
        new Fry().execute();
        new Grind().execute();
        new Stir().execute();
    }
}
</code></pre>
<p>è¯¥ <code>Facade</code> ç±»å°±æ˜¯ä¸€ä¸ªå¤–è§‚ç±»ï¼Œæ‰€è°“å¤–è§‚ç±»å°±æ˜¯å¯¹å¤æ‚çš„ä¸šåŠ¡é€»è¾‘è¿›è¡Œå°è£…ï¼Œå¤–è§‚ç±»ä¸å®¢æˆ·ç«¯ç›´æ¥äº¤äº’ä½¿å®¢æˆ·ç«¯åªéœ€è¦è°ƒç”¨å¤–è§‚ç±»çš„ç‰¹å®šæ–¹æ³•å°±èƒ½å®Œæˆä¸€ç³»åˆ—å¤æ‚çš„ä¸šåŠ¡æ“ä½œï¼Œè€Œå®¢æˆ·ç«¯å®Œå…¨ä¸éœ€è¦çŸ¥é“å¤–è§‚ç±»çš„æ‰§è¡Œè¿‡ç¨‹ã€‚æ¢å¥è¯è¯´ï¼Œè¿™é‡Œçš„å¤–è§‚ç±»å°±æ˜¯ä¸€å°å¯ä»¥è‡ªåŠ¨åˆ¶ä½œé¦™æ²¹çš„æœºå™¨ï¼Œåªè¦æŒ‰ä¸‹ç”µæºé”®ï¼Œè¿™å°æœºå™¨å°±å¯ä»¥ä»£æ›¿äººå·¥è‡ªåŠ¨è¿›è¡Œç‚’èŠéº»ã€ç£¨é…±å’Œæ…æ‹Œç­‰ä¸€ç³»åˆ—å·¥åºï¼Œè€Œè‡ªå·±å®Œå…¨ä¸éœ€è¦çŸ¥é“è¿™å°æœºå™¨æ˜¯å¦‚ä½•å·¥ä½œçš„</p>
<p>å®¢æˆ·ç«¯è°ƒç”¨å¦‚ä¸‹ï¼š</p>
<pre><code>/**
 * @Author: Xinling Jing
 * @Date: 2018/8/20 0020 ä¸‹åˆ 6:54
 */
public class Client {

    public static void main(String[] args) {
        // æ‰“å¼€å¼€å…³å¼€å§‹åˆ¶ä½œé¦™æ²¹
        new Facade().powerOn();
    }
}
</code></pre>
<p>æ­¤æ—¶ç»“æ„å¦‚å›¾ï¼š</p>
<figure data-type="image" tabindex="1"><img src="http://image.kuranado.com/blog/1613780620.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></figure>
<p>åˆ°æ­¤ç›¸ä¿¡ä½ å·²ç»å®Œå…¨äº†è§£å¤–è§‚æ¨¡å¼äº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Ÿä¸‹é¢å¯¹å¤–è§‚æ¨¡å¼åšä¸€ä¸ªç®€å•çš„æ€»ç»“</p>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<h3 id="å¤–è§‚æ¨¡å¼çš„ç›®çš„">å¤–è§‚æ¨¡å¼çš„ç›®çš„</h3>
<ul>
<li>å¤–è§‚æ¨¡å¼çš„ç›®çš„ä¸æ˜¯ç»™å­ç³»ç»Ÿæ·»åŠ æ–°çš„åŠŸèƒ½æ¥å£ï¼Œè€Œæ˜¯ä¸ºäº†è®©å¤–éƒ¨å‡å°‘ä¸å­ç³»ç»Ÿå†…å¤šä¸ªæ¨¡å—çš„äº¤äº’ï¼Œæ¾æ•£è€¦åˆï¼Œè®©å¤–éƒ¨èƒ½å¤Ÿæ›´ç®€å•çš„ä½¿ç”¨å­ç³»ç»Ÿã€‚è™½ç„¶å®Œå…¨å¯ä»¥åœ¨å¤–è§‚ç±»ä¸­å¢åŠ æ–°åŠŸèƒ½ï¼Œä½†ä¸å»ºè®®è¿™ä¹ˆåšï¼Œå› ä¸ºå¤–è§‚æ¨¡å¼å°±æ˜¯ç”¨æ¥å¯¹å·²æœ‰çš„åŠŸèƒ½è¿›è¡Œç»„åˆã€åŒ…è£…ï¼Œè€Œä¸æ˜¯ç”¨æ¥æ·»åŠ æ–°çš„å®ç°</li>
</ul>
<h3 id="å¤–è§‚æ¨¡å¼è°ƒç”¨">å¤–è§‚æ¨¡å¼è°ƒç”¨</h3>
<ul>
<li>ç¼–å†™äº†å¤–è§‚æ¨¡å¼å¹¶ä¸ä»£è¡¨åªèƒ½ä½¿ç”¨å¤–è§‚æ¨¡å¼ï¼Œå½“åªéœ€è¦ä½¿ç”¨å¤–è§‚æ¨¡å¼å°è£…çš„å…¶ä¸­æŸä¸ªæ¨¡å—æ—¶ï¼Œå®Œå…¨å¯ä»¥å•ç‹¬è°ƒç”¨è¯¥æ¨¡å—ï¼Œè€Œä¸éœ€è¦ç»è¿‡å¤–è§‚æ¨¡å¼</li>
</ul>
<h3 id="å¤–è§‚æ¨¡å¼çš„å®ç°">å¤–è§‚æ¨¡å¼çš„å®ç°</h3>
<ul>
<li>å°†å¤–è§‚ç±»ä¸­çš„æ–¹æ³•å®ç°ä¸ºé™æ€æ–¹æ³•ï¼Œå°†å¤–è§‚ç±»å½“æˆä¸€ä¸ªè¾…åŠ©å·¥å…·ç±»ä½¿ç”¨</li>
</ul>
<pre><code>public class Facade {

    private Facade() {}

    public static void powerOn() {
        new Fry().execute();
        new Grind().execute();
        new Stir().execute();
    }
}
</code></pre>
<h3 id="å¤–è§‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹">å¤–è§‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h3>
<ul>
<li>æ¾æ•£è€¦åˆï¼šå¤–è§‚æ¨¡å¼æ¾æ•£äº†å®¢æˆ·ç«¯ä¸å­ç³»ç»Ÿçš„è€¦åˆå…³ç³»ï¼Œè®©å­ç³»ç»Ÿå†…éƒ¨çš„æ¨¡å—æ›´å®¹æ˜“æ‰©å±•å’Œç»´æŠ¤</li>
<li>ç®€å•æ˜“ç”¨ï¼šå¤–è§‚æ¨¡å¼è®©å­ç³»ç»Ÿæ›´åŠ æ˜“ç”¨ï¼Œå®¢æˆ·ç«¯ä¸éœ€è¦äº†è§£å­ç³»ç»Ÿçš„å†…éƒ¨å®ç°ï¼Œä¹Ÿä¸éœ€è¦è·Ÿä¼—å¤šå­ç³»ç»Ÿå†…éƒ¨çš„æ¨¡å—è¿›è¡Œäº¤äº’ï¼Œåªéœ€è¦è·Ÿå¤–è§‚æ¨¡å¼äº¤äº’å°±å¯ä»¥äº†ï¼Œç›¸å½“äºå¤–è§‚ç±»ä¸ºå®¢æˆ·ç«¯ä½¿ç”¨å­ç³»ç»Ÿæä¾›äº†ä¸€æ¡é¾™æœåŠ¡</li>
<li>æ›´å¥½åœ°åˆ’åˆ†è®¿é—®çš„å±‚æ¬¡ï¼šåˆç†çš„ä½¿ç”¨å¤–è§‚æ¨¡å¼ï¼Œå¯ä»¥æ›´å¥½çš„åˆ’åˆ†å­ç³»ç»Ÿçš„è®¿é—®å±‚æ¬¡ï¼ŒæŠŠéœ€è¦æš´éœ²ç»™å¤–éƒ¨çš„åŠŸèƒ½é›†ä¸­åˆ°å¤–è§‚ä¸­ï¼Œæ—¢æ–¹ä¾¿å®¢æˆ·ç«¯è°ƒç”¨ï¼Œä¹Ÿéšè—äº†å†…éƒ¨çš„å®ç°ç»†èŠ‚</li>
<li>è¿‡å¤šæˆ–è€…ä¸åˆç†çš„ä½¿ç”¨å¤–è§‚æ¨¡å¼å®¹æ˜“è®©äººè¿·æƒ‘ï¼Œä¸çŸ¥æ˜¯ä½¿ç”¨å¤–è§‚æ¨¡å¼å¥½è¿˜æ˜¯ç›´æ¥è°ƒç”¨æ¨¡å—å¥½</li>
</ul>
<h3 id="å¯¹è®¾è®¡åŸåˆ™çš„ä½“ç°">å¯¹è®¾è®¡åŸåˆ™çš„ä½“ç°</h3>
<p>å¤–è§‚æ¨¡å¼æ˜¯<code>è¿ªç±³ç‰¹æ³•åˆ™</code>ï¼ˆä¹Ÿç§°æœ€å°‘çŸ¥è¯†åŸåˆ™ï¼‰çš„ä½“ç°ï¼Œå³ä¸å’Œé™Œç”Ÿäººè¯´è¯ï¼Œåªå’Œä½ çš„ç›´æ¥æœ‹å‹é€šä¿¡</p>
<h3 id="ç›¸å…³æ¨¡å¼">ç›¸å…³æ¨¡å¼</h3>
<h4 id="å¤–è§‚æ¨¡å¼ä¸å•ä¾‹æ¨¡å¼">å¤–è§‚æ¨¡å¼ä¸å•ä¾‹æ¨¡å¼</h4>
<p>é€šå¸¸ä¸€ä¸ªå­ç³»ç»Ÿåªéœ€è¦ä¸€ä¸ªå¤–è§‚å®ä¾‹ï¼Œæ‰€ä»¥å¯ä»¥å°†å¤–è§‚æ¨¡å¼å’Œå•ä¾‹æ¨¡å¼ç»„åˆï¼Œå°† Facade ç±»å®ç°æˆä¸ºå•ä¾‹ã€‚å½“ç„¶å‰é¢ä»‹ç»çš„å°† Facade ç±»çš„æ–¹æ³•è®¾ç½®ä¸º <code>static</code>ï¼Œå¹¶å°† Facade çš„æ„é€ æ–¹æ³•ç§æœ‰åŒ–ä¹Ÿå¯ä»¥å½“ä½œä¸ºç®€å•çš„å•ä¾‹</p>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<ul>
<li>ã€Šç ”ç£¨è®¾è®¡æ¨¡å¼ã€‹</li>
</ul>
<h2 id="æºç ">æºç </h2>
<ul>
<li><a href="https://github.com/KURANADO2/DesignPatterns">https://github.com/KURANADO2/DesignPatterns</a></li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç­–ç•¥æ¨¡å¼.md]]></title>
        <id>http://blog.kuranado.com/post/ce-lue-mo-shi/</id>
        <link href="http://blog.kuranado.com/post/ce-lue-mo-shi/">
        </link>
        <updated>2021-02-19T09:20:04.000Z</updated>
        <content type="html"><![CDATA[<p>[TOC]</p>
<p>é’ˆå¯¹ä¸åŒçš„ä¸šåŠ¡æƒ…å†µï¼Œä½¿ç”¨ if-else åšä¸åŒçš„å¤„ç†ï¼Œç›¸ä¿¡å¾ˆå¤šäººéƒ½è§è¿‡æˆ–å†™è¿‡ç±»ä¼¼ä¸‹é¢è¿™æ ·çš„ä»£ç ï¼š</p>
<pre><code>import lombok.Getter;

/**
 * è®¡ç®—ä»·æ ¼ç±»
 *
 * @author Xinling Jing
 * @version 1.0.0
 * @date 2021-01-28 16:28
 */
public class Price {

    /**
     * æ ¹æ®ç”¨æˆ·ç±»å‹è®¡ç®—å•†å“æŠ˜æ‰£åçš„ä»·æ ¼
     *
     * @param originalPrice å•†å“åŸä»·
     * @param customType ç”¨æˆ·ç±»å‹
     * @return æŠ˜æ‰£åçš„ä»·æ ¼
     */
    public double calcDiscountPrice(double originalPrice, CustomType customType) {

        if (CustomType.NORMAL.equals(customType)) {
            // æ™®é€šå®¢æˆ·åŸä»·
            return originalPrice;
        } else if (CustomType.POOR_MONTH_VIP.equals(customType)) {
            // æ´»åŠ¨é€çš„æœˆåº¦ä¼šå‘˜æ‰“ 95 æŠ˜
            return originalPrice * 0.95;
        } else if (CustomType.MONTH_VIP.equals(customType)) {
            // æœˆåº¦ä¼šå‘˜æ‰“ 9 æŠ˜
            return originalPrice * 0.9;
        } else if (CustomType.YEAR_VIP.equals(customType)) {
            // å¹´åº¦ä¼šå‘˜æ‰“ 8 æŠ˜
            return originalPrice * 0.8;
        }
        // å…¶å®ƒç±»å‹å®¢æˆ·åŸä»·
        return originalPrice;
    }

    @Getter
    enum CustomType {

        /**
         * æ™®é€šå®¢æˆ·
         */
        NORMAL(&quot;æ™®é€šç”¨æˆ·&quot;),
        /**
         * æ´»åŠ¨é€çš„ä¼šå‘˜
         */
        POOR_MONTH_VIP(&quot;æ´»åŠ¨é€çš„æœˆåº¦ä¼šå‘˜&quot;),
        /**
         * æœˆåº¦ä¼šå‘˜
         */
        MONTH_VIP(&quot;æœˆåº¦ä¼šå‘˜&quot;),
        /**
         * å¹´åº¦ä¼šå‘˜
         */
        YEAR_VIP(&quot;å¹´åº¦ä¼šå‘˜&quot;);

        private final String type;

        CustomType(String type) {
            this.type = type;
        }
    }

    public static void main(String[] args) {
        double originalPrice = 100;
        Price price = new Price();
        double result = price.calcDiscountPrice(originalPrice, CustomType.NORMAL);
        System.out.println(&quot;æ™®é€šç”¨æˆ·æŠ˜æ‰£åä»·æ ¼ï¼š&quot; + result);

        result = price.calcDiscountPrice(originalPrice, CustomType.POOR_MONTH_VIP);
        System.out.println(&quot;æ´»åŠ¨é€çš„æœˆåº¦ä¼šå‘˜æŠ˜æ‰£åä»·æ ¼ï¼š&quot; + result);

        result = price.calcDiscountPrice(originalPrice, CustomType.MONTH_VIP);
        System.out.println(&quot;æœˆåº¦ä¼šå‘˜æŠ˜æ‰£åä»·æ ¼ï¼š&quot; + result);

        result = price.calcDiscountPrice(originalPrice, CustomType.YEAR_VIP);
        System.out.println(&quot;å¹´åº¦ä¼šå‘˜æŠ˜æ‰£åä»·æ ¼ï¼š&quot; + result);
    }
}
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code>æ™®é€šç”¨æˆ·æŠ˜æ‰£åä»·æ ¼ï¼š100.0
æ´»åŠ¨é€çš„æœˆåº¦ä¼šå‘˜æŠ˜æ‰£åä»·æ ¼ï¼š95.0
æœˆåº¦ä¼šå‘˜æŠ˜æ‰£åä»·æ ¼ï¼š90.0
å¹´åº¦ä¼šå‘˜æŠ˜æ‰£åä»·æ ¼ï¼š80.0
</code></pre>
<p>è¿™åªæ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ä¾‹å­ï¼Œå®é™…å·¥ä½œåœºæ™¯ä¸­ï¼Œé’ˆå¯¹åå‡ ç§æƒ…å†µï¼Œå¯¹åº”è¿ç»­ä½¿ç”¨åå‡ ä¸ª if-else åšåˆ¤æ–­ï¼Œä¹Ÿæ­£æ˜¯ç¬”è€…æ‰€åœ¨å…¬å¸å½“å‰æ‰€é‡‡ç”¨çš„ä»£ç å½¢å¼ã€‚ç»“æ„ä¸‘é™‹ï¼Œä¸æ˜“ç»´æŠ¤æ˜¯å…¶æœ€å¤§çš„ç¼ºç‚¹ï¼Œé’ˆå¯¹è¿™ç§æƒ…å†µï¼Œä½¿ç”¨ç­–ç•¥æ¨¡å¼ä¼˜åŒ–æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚<br>
<img src="http://image.kuranado.com/blog/1613726575.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"><br>
<img src="http://image.kuranado.com/blog/1613726585.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></p>
<h2 id="ç­–ç•¥æ¨¡å¼-æ¨¡ç‰ˆä»£ç ">ç­–ç•¥æ¨¡å¼-æ¨¡ç‰ˆä»£ç </h2>
<blockquote>
<p>ç­–ç•¥æ¨¡å¼çš„æ€æƒ³å°±æ˜¯ï¼š<strong>æ¯ç§ if-else åˆ¤æ–­éƒ½æŠ½å–æˆä¸€ä¸ªç±»ï¼Œåœ¨ç±»ä¸­å®ç°å…·ä½“çš„ç®—æ³•ç­–ç•¥ã€‚ç„¶åå®šä¹‰ä¸€ä¸ªç­–ç•¥ä¸Šä¸‹æ–‡ç±»ï¼Œè¯¥ä¸Šä¸‹æ–‡ç±»å¯ä»¥æŒæœ‰å…·ä½“çš„ç®—æ³•ç­–ç•¥ï¼Œæœ€åå†ç”±å®¢æˆ·ç«¯é€‰æ‹©å…·ä½“çš„ç®—æ³•ç­–ç•¥ï¼Œäº¤ç»™ä¸Šä¸‹æ–‡ç±»å¤„ç†å³å¯</strong>ï¼Œæ€»ç»“æˆå¦‚ä¸‹å››æ­¥ï¼š</p>
</blockquote>
<ol>
<li>åˆ›å»ºç­–ç•¥æ¥å£</li>
<li>åˆ›å»ºè‹¥å¹²ä¸ªå…·ä½“ç­–ç•¥ç®—æ³•ç±»ï¼Œå®ç°ç­–ç•¥æ¥å£</li>
<li>åˆ›å»ºç­–ç•¥ä¸Šä¸‹æ–‡ç±»ï¼Œç”¨äºæŒæœ‰å…·ä½“çš„ç­–ç•¥ç®—æ³•ç±»</li>
<li>å®¢æˆ·ç«¯é€‰æ‹©å…·ä½“çš„ç­–ç•¥ç®—æ³•ï¼Œä¼ ç»™ä¸Šä¸‹æ–‡å¤„ç†</li>
</ol>
<p>åŒæ ·æ˜¯æ–‡ç« å¼€å¤´æ ¹æ®å®¢æˆ·ç±»å‹è®¡ç®—æŠ˜æ‰£ä»·æ ¼çš„ä¾‹å­ï¼Œä½¿ç”¨ç­–ç•¥æ¨¡å¼æ”¹é€ è¿‡ç¨‹å¦‚ä¸‹</p>
<h3 id="ç­–ç•¥æ¥å£">ç­–ç•¥æ¥å£</h3>
<pre><code>/**
 * ç­–ç•¥æ¥å£
 *
 * @author Xinling Jing
 * @version 1.0.0
 * @date 2021-01-28 16:25
 */
public interface Strategy {

    /**
     * è®¡ç®—æŠ˜æ‰£åçš„ä»·æ ¼
     *
     * @param originalPrice åŸä»·
     * @return æŠ˜æ‰£åä»·æ ¼
     */
    double calcDiscountPrice(double originalPrice);
}
</code></pre>
<h3 id="å…·ä½“çš„ç­–ç•¥ç®—æ³•å®ç°ç±»">å…·ä½“çš„ç­–ç•¥ç®—æ³•å®ç°ç±»</h3>
<p>æ¯ä¸ªå…·ä½“çš„ç­–ç•¥ç±»éƒ½å¯¹åº”ä¸€ä¸ªåŸæ¥çš„ if-else åˆ¤æ–­</p>
<pre><code>/**
 * æ™®é€šä¼šå‘˜çš„æŠ˜æ‰£ç­–ç•¥
 *
 * @author Xinling Jing
 * @version 1.0.0
 * @date 2021-01-28 19:29
 */
public class NormalStrategy implements Strategy {

    @Override
    public double calcDiscountPrice(double originalPrice) {
        return originalPrice;
    }
}
</code></pre>
<pre><code>/**
 * æ´»åŠ¨é€çš„æœˆåº¦ä¼šå‘˜çš„æŠ˜æ‰£ç­–ç•¥
 *
 * @author Xinling Jing
 * @version 1.0.0
 * @date 2021-01-28 19:30
 */
public class PoorMonthVipStrategy implements Strategy {

    @Override
    public double calcDiscountPrice(double originalPrice) {
        return originalPrice * 0.95;
    }
}
</code></pre>
<pre><code>/**
 * æœˆåº¦ä¼šå‘˜çš„æŠ˜æ‰£ç­–ç•¥
 *
 * @author Xinling Jing
 * @version 1.0.0
 * @date 2021-01-28 19:30
 */
public class MonthVipStrategy implements Strategy {

    @Override
    public double calcDiscountPrice(double originalPrice) {
        return originalPrice * 0.9;
    }
}
</code></pre>
<pre><code>/**
 * å¹´åº¦ä¼šå‘˜çš„æŠ˜æ‰£ç­–ç•¥
 *
 * @author Xinling Jing
 * @version 1.0.0
 * @date 2021-01-28 19:31
 */
public class YearVipStrategy implements Strategy {

    @Override
    public double calcDiscountPrice(double originalPrice) {
        return originalPrice * 0.8;
    }
}
</code></pre>
<p>å¦‚æœåé¢è¿˜æœ‰å…¶ä»–ç§ç±»çš„ä¼šå‘˜æŠ˜æ‰£ç­–ç•¥ï¼Œåªéœ€è¦ç…§è‘«èŠ¦ç”»ç“¢ï¼Œå†åˆ›å»ºä¸€ä¸ªç­–ç•¥å®ç°ç±»å³å¯ï¼Œå…¶ä»–å·²æœ‰çš„ç­–ç•¥å®ç°ç±»ï¼Œç­–ç•¥æ¥å£ï¼Œç­–ç•¥ä¸Šä¸‹æ–‡éƒ½ä¸éœ€è¦åšä»»ä½•æ”¹åŠ¨</p>
<h3 id="ç­–ç•¥ä¸Šä¸‹æ–‡">ç­–ç•¥ä¸Šä¸‹æ–‡</h3>
<pre><code>/**
 * ç­–ç•¥ä¸Šä¸‹æ–‡
 *
 * @author Xinling Jing
 * @version 1.0.0
 * @date 2021-01-28 19:36
 */
public class StrategyContext {

    private final Strategy strategy;

    public StrategyContext(Strategy strategy) {
        this.strategy = strategy;
    }

    public double calcPrice(double originalPrice) {
        return this.strategy.calcDiscountPrice(originalPrice);
    }
}
</code></pre>
<h3 id="å®¢æˆ·ç«¯">å®¢æˆ·ç«¯</h3>
<pre><code>/**
 * å®¢æˆ·ç«¯æµ‹è¯•
 *
 * @author Xinling Jing
 * @version 1.0.0
 * @date 2021-01-28 16:26
 */
public class Client {

    public static void main(String[] args) {

        Strategy strategy = new NormalStrategy();
        StrategyContext strategyContext = new StrategyContext(strategy);
        double result = strategyContext.calcPrice(100);
        System.out.println(&quot;æ™®é€šç”¨æˆ·æŠ˜æ‰£åä»·æ ¼ï¼š&quot; + result);

        strategy = new PoorMonthVipStrategy();
        strategyContext = new StrategyContext(strategy);
        result = strategyContext.calcPrice(100);
        System.out.println(&quot;æ´»åŠ¨é€çš„æœˆåº¦ä¼šå‘˜æŠ˜æ‰£åä»·æ ¼ï¼š&quot; + result);

        strategy = new MonthVipStrategy();
        strategyContext = new StrategyContext(strategy);
        result = strategyContext.calcPrice(100);
        System.out.println(&quot;æœˆåº¦ä¼šå‘˜æŠ˜æ‰£åä»·æ ¼ï¼š&quot; + result);

        strategy = new YearVipStrategy();
        strategyContext = new StrategyContext(strategy);
        result = strategyContext.calcPrice(100);
        System.out.println(&quot;å¹´åº¦ä¼šå‘˜æŠ˜æ‰£åä»·æ ¼ï¼š&quot; + result);
    }
}
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code>æ™®é€šç”¨æˆ·æŠ˜æ‰£åä»·æ ¼ï¼š100.0
æ´»åŠ¨é€çš„æœˆåº¦ä¼šå‘˜æŠ˜æ‰£åä»·æ ¼ï¼š95.0
æœˆåº¦ä¼šå‘˜æŠ˜æ‰£åä»·æ ¼ï¼š90.0
å¹´åº¦ä¼šå‘˜æŠ˜æ‰£åä»·æ ¼ï¼š80.0
</code></pre>
<h3 id="ç»“æ„å›¾">ç»“æ„å›¾</h3>
<figure data-type="image" tabindex="1"><img src="http://image.kuranado.com/blog/1613726599.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></figure>
<p>ä»¥ä¸Šå°±æ˜¯æœ€åŸºæœ¬çš„ç­–ç•¥æ¨¡å¼</p>
<h2 id="ç­–ç•¥æ¨¡å¼-å®ç°å…¬å…±åŠŸèƒ½">ç­–ç•¥æ¨¡å¼-å®ç°å…¬å…±åŠŸèƒ½</h2>
<p>å¦‚æœä¸åŒçš„ç­–ç•¥ç®—æ³•å­˜åœ¨å…¬å…±åŠŸèƒ½ï¼Œå¦‚å¯¹äºä¸Šé¢çš„ä¾‹å­ï¼Œå¦‚æœè¦æ±‚ä¸ç®¡é‚£ç§ç±»å‹çš„ä¼šå‘˜ï¼Œåœ¨è®¡ç®—æŠ˜æ‰£ä»·æ ¼é’±ï¼Œéƒ½å¢åŠ æ¶ˆè´¹ç§¯åˆ†ï¼Œç§¯åˆ†æ•°é‡ç­‰äºåŸä»·ï¼Œåˆ™å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸‰ç§æ–¹å¼æŠ½å–å…¬å…±åŠŸèƒ½ï¼š</p>
<ol>
<li>åœ¨ç­–ç•¥ä¸Šä¸‹æ–‡ç±»ä¸­å®ç°å…¬å…±åŠŸèƒ½</li>
<li>å°†ç­–ç•¥æ¥å£æ”¹æˆæŠ½è±¡ç±»ï¼Œåœ¨ç­–ç•¥æŠ½è±¡ç±»ä¸­å®ç°å…¬å…±åŠŸèƒ½</li>
<li>å®šä¹‰ä¸€ä¸ªæŠ½è±¡ç±»å®ç°ç­–ç•¥æ¥å£ï¼Œåœ¨è¯¥æŠ½è±¡ç±»ä¸­å®ç°å…¬å…±åŠŸèƒ½ï¼Œç„¶åè®©æ‰€æœ‰çš„ç­–ç•¥ç®—æ³•ç±»ä¸å†å®ç°ç­–ç•¥æ¥å£ï¼Œè½¬ä¸ºç»§æ‰¿è¯¥æŠ½è±¡ç±»</li>
</ol>
<p>ä¸Šé¢ä¸‰ç§æ–¹æ³•é€ä¸€ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<h3 id="æ–¹æ³•ä¸€ç­–ç•¥ä¸Šä¸‹æ–‡ç±»ä¸­å®ç°å…¬å…±åŠŸèƒ½">æ–¹æ³•ä¸€ï¼šç­–ç•¥ä¸Šä¸‹æ–‡ç±»ä¸­å®ç°å…¬å…±åŠŸèƒ½</h3>
<p>StrategyContext ç±»ä¿®æ”¹å¦‚ä¸‹ï¼š</p>
<pre><code>/**
 * ç­–ç•¥ä¸Šä¸‹æ–‡
 *
 * @author Xinling Jing
 * @version 1.0.0
 * @date 2021-01-28 19:36
 */
public class StrategyContext {

    private final Strategy strategy;

    public StrategyContext(Strategy strategy) {
        this.strategy = strategy;
    }

    public double calcPrice(double originalPrice) {
        System.out.println(&quot;å¢åŠ æ¶ˆè´¹ç§¯åˆ†ï¼š&quot; + originalPrice);
        return this.strategy.calcDiscountPrice(originalPrice);
    }
}
</code></pre>
<p>æ‰§è¡Œå®¢æˆ·ç«¯ï¼Œè¾“å‡ºç»“æœï¼š</p>
<pre><code>å¢åŠ æ¶ˆè´¹ç§¯åˆ†ï¼š100.0
æ™®é€šç”¨æˆ·æŠ˜æ‰£åä»·æ ¼ï¼š100.0
å¢åŠ æ¶ˆè´¹ç§¯åˆ†ï¼š100.0
æ´»åŠ¨é€çš„æœˆåº¦ä¼šå‘˜æŠ˜æ‰£åä»·æ ¼ï¼š95.0
å¢åŠ æ¶ˆè´¹ç§¯åˆ†ï¼š100.0
æœˆåº¦ä¼šå‘˜æŠ˜æ‰£åä»·æ ¼ï¼š90.0
å¢åŠ æ¶ˆè´¹ç§¯åˆ†ï¼š100.0
å¹´åº¦ä¼šå‘˜æŠ˜æ‰£åä»·æ ¼ï¼š80.0
</code></pre>
<h3 id="æ–¹æ³•äºŒç­–ç•¥æ¥å£æ”¹æˆæŠ½è±¡ç±»">æ–¹æ³•äºŒï¼šç­–ç•¥æ¥å£æ”¹æˆæŠ½è±¡ç±»</h3>
<p>Strategy æ¥å£è¯¥æˆæŠ½è±¡ç±»ï¼š</p>
<pre><code>/**
 * ç­–ç•¥æŠ½è±¡ç±»
 *
 * @author Xinling Jing
 * @version 1.0.0
 * @date 2021-01-28 16:25
 */
public abstract class Strategy {

    protected double calcPrice(double originalPrice) {
        System.out.println(&quot;å¢åŠ æ¶ˆè´¹ç§¯åˆ†ï¼š&quot; + originalPrice);
        return calcDiscountPrice(originalPrice);
    }

    /**
     * è®¡ç®—æŠ˜æ‰£åçš„ä»·æ ¼
     *
     * @param originalPrice åŸä»·
     * @return æŠ˜æ‰£åä»·æ ¼
     */
    protected abstract double calcDiscountPrice(double originalPrice);
}
</code></pre>
<p>è¿™é‡Œå¢åŠ äº†ä¸€ä¸ª calcPrice æ–¹æ³•ï¼Œç”¨äºå¤„ç†å…¬å…±é€»è¾‘ï¼Œå¤„ç†å®Œæˆä¹‹åï¼Œå†è°ƒç”¨åŸæ¥çš„ calcDiscountPrice æ–¹æ³•ï¼Œè¿™é‡Œçš„ calcDiscountPrice è¢«å®šä¹‰æˆæŠ½è±¡æ–¹æ³•ï¼Œå­ç±»ç»§æ‰¿ Strategy æŠ½è±¡ç±»æ—¶ï¼Œéœ€è¦å®ç°è¯¥æŠ½è±¡æ–¹æ³•ã€‚</p>
<p>å„ä¸ªç®—æ³•ç­–ç•¥å®ç°ç±»ç”±å®ç° Strategy æ¥å£æ”¹ä¸ºç»§æ‰¿ Strategy æŠ½è±¡ç±»ï¼Œå³å°† <code>implements</code> æ”¹ä¸º <code>extends</code>ï¼Œå¦‚æ™®é€šä¼šå‘˜æŠ˜æ‰£ç­–ç•¥ä»£ç ä¿®æ”¹å¦‚ä¸‹ï¼Œå…¶ä»–ç­–ç•¥ç®—æ³•å®ç°ç±»ä¹Ÿæ˜¯åšåŒæ ·å¤„ç†ï¼Œä¸å†èµ˜è¿°ï¼š</p>
<pre><code>/**
 * æ™®é€šä¼šå‘˜çš„æŠ˜æ‰£ç­–ç•¥
 *
 * @author Xinling Jing
 * @version 1.0.0
 * @date 2021-01-28 19:29
 */
public class NormalStrategy extends Strategy {

    @Override
    public double calcDiscountPrice(double originalPrice) {
        return originalPrice;
    }
}
</code></pre>
<p>ç­–ç•¥ä¸Šä¸‹æ–‡ç±»ç”±è°ƒç”¨ calcDiscountPrice æ–¹æ³•ä¿®æ”¹ä¸ºè°ƒç”¨ calcPrice æ–¹æ³•ï¼š</p>
<pre><code>/**
 * ç­–ç•¥ä¸Šä¸‹æ–‡
 *
 * @author Xinling Jing
 * @version 1.0.0
 * @date 2021-01-28 19:36
 */
public class StrategyContext {

    private final Strategy strategy;

    public StrategyContext(Strategy strategy) {
        this.strategy = strategy;
    }

    public double calcPrice(double originalPrice) {
        return this.strategy.calcPrice(originalPrice);
    }
}
</code></pre>
<p>å®¢æˆ·ç«¯æ— éœ€åšæ”¹åŠ¨ã€‚æ‰§è¡Œå®¢æˆ·ç«¯ï¼Œè¾“å‡ºç»“æœå’Œç¬¬ä¸€ç§æ–¹æ³•å®Œå…¨ä¸€è‡´</p>
<h3 id="æ–¹æ³•ä¸‰å®šä¹‰ä¸€ä¸ªæŠ½è±¡ç±»å®ç°ç­–ç•¥æ¥å£">æ–¹æ³•ä¸‰ï¼šå®šä¹‰ä¸€ä¸ªæŠ½è±¡ç±»å®ç°ç­–ç•¥æ¥å£</h3>
<p>è¿™ç§æ–¹æ³•å…¶å®å°±æ˜¯æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼ˆåç»­æ–‡ç« ä¸­ä¼šè®²åˆ°ï¼‰<br>
å®šä¹‰ä¸€ä¸ªæŠ½è±¡ç±»å®ç°ç­–ç•¥æ¥å£ï¼š</p>
<pre><code>/**
 * @author Xinling Jing
 * @version 1.0.0
 * @date 2021-02-19 14:31
 */
public abstract class StrategyTemplate implements Strategy {

    @Override
    public double calcDiscountPrice(double originalPrice) {
        System.out.println(&quot;å¢åŠ æ¶ˆè´¹ç§¯åˆ†ï¼š&quot; + originalPrice);
        return calcPrice(originalPrice);
    }

    protected abstract double calcPrice(double originalPrice);
}
</code></pre>
<p>å„ä¸ªç®—æ³•ç­–ç•¥ç±»ç”±å®ç° Strategy æ¥å£æ”¹ä¸ºç»§æ‰¿æŠ½è±¡ç±»ï¼Œä»¥æ™®é€šä¼šå‘˜ä¸ºä¾‹ï¼Œå…¶ä»–ç­–ç•¥ç®—æ³•ç±»ä¸å†èµ˜è¿°ï¼š</p>
<pre><code>/**
 * æ™®é€šä¼šå‘˜çš„æŠ˜æ‰£ç­–ç•¥
 *
 * @author Xinling Jing
 * @version 1.0.0
 * @date 2021-01-28 19:29
 */
public class NormalStrategy extends StrategyTemplate {

    @Override
    public double calcPrice(double originalPrice) {
        return originalPrice;
    }
}
</code></pre>
<p>ç­–ç•¥ä¸Šä¸‹æ–‡ç±»å’Œå®¢æˆ·ç«¯æ— éœ€åšä»»ä½•æ”¹åŠ¨ã€‚æ‰§è¡Œå®¢æˆ·ç«¯ï¼Œè¾“å‡ºç»“æœå’Œç¬¬ä¸€ç§æ–¹æ³•å®Œå…¨ä¸€è‡´</p>
<h2 id="ç­–ç•¥æ¨¡å¼-å‚æ•°ä¼ é€’">ç­–ç•¥æ¨¡å¼-å‚æ•°ä¼ é€’</h2>
<p>å®é™…ä¸šåŠ¡ä¸­ï¼Œå¾€å¾€ä¸åŒç®—æ³•ç­–ç•¥éœ€è¦çš„å‚æ•°æ˜¯ä¸åŒçš„ï¼Œè¿™å°±å¯¼è‡´åœ¨å®šä¹‰ç­–ç•¥æ¥å£æ—¶ï¼Œå¾ˆéš¾ç¡®å®šå‚æ•°ã€‚<br>
ä¸¾ä¸ªğŸŒ°ï¼šå¦‚ä»Šå‡ºè¡Œæœ‰ä¼—å¤šäº¤é€šå·¥å…·å¯ä¾›é€‰æ‹©ï¼Œä¸€èˆ¬çš„äº¤é€šå·¥å…·åªè¦å‡ºç¤ºèº«ä»½è¯å³å¯ï¼Œæ¯”å¦‚ç«è½¦ã€‚ä¸‹é¢å°±ä½¿ç”¨ç­–ç•¥æ¨¡å¼å¿«é€Ÿå®ç°è¿™ä¸ªä¾‹å­ï¼š</p>
<h3 id="ç­–ç•¥ç±»">ç­–ç•¥ç±»</h3>
<pre><code>/**
 * äº¤é€šå·¥å…·ç­–ç•¥
 *
 * @author Xinling Jing
 * @version 1.0.0
 * @date 2021-02-19 15:29
 */
public interface VehicleStrategy {

    void take(VehicleContext vehicleContext);
}
</code></pre>
<h3 id="ä¸Šä¸‹æ–‡ç±»">ä¸Šä¸‹æ–‡ç±»</h3>
<pre><code>import lombok.Getter;

/**
 * äº¤é€šå·¥å…·ä¸Šä¸‹æ–‡
 *
 * @author Xinling Jing
 * @version 1.0.0
 * @date 2021-02-19 15:30
 */
@Getter
public class VehicleContext {

    /**
     * ç”¨æˆ·å
     */
    private final String username;
    /**
     * èº«ä»½è¯å·
     */
    private final String idNo;
    /**
     * èµ·å§‹åœ°
     */
    private final String origin;
    /**
     * ç›®çš„åœ°
     */
    private final String destination;

    private final VehicleStrategy vehicleStrategy;

    public VehicleContext(String username, String idNo, String origin, String destination,
        VehicleStrategy vehicleStrategy) {
        this.username = username;
        this.idNo = idNo;
        this.origin = origin;
        this.destination = destination;
        this.vehicleStrategy = vehicleStrategy;
    }

    public void take() {
        this.vehicleStrategy.take(this);
    }
}
</code></pre>
<p>è¿™é‡Œé€šè¿‡ä¸Šä¸‹æ–‡<strong>æºå¸¦äº†ä¸€äº›å‚æ•°ï¼Œä»¥è®©å…·ä½“çš„ç­–ç•¥å®ç°ç±»å¯ä»¥å›è°ƒè¿™äº›å‚æ•°</strong>ã€‚</p>
<h3 id="ç«è½¦ç­–ç•¥å®ç°ç±»">ç«è½¦ç­–ç•¥å®ç°ç±»</h3>
<pre><code>/**
 * ç«è½¦ç­–ç•¥
 *
 * @author Xinling Jing
 * @version 1.0.0
 * @date 2021-02-19 16:20
 */
public class TrainStrategy implements VehicleStrategy {

    @Override
    public void take(VehicleContext vehicleContext) {
        System.out.println(vehicleContext.getUsername() + &quot;ä½¿ç”¨èº«ä»½è¯ï¼š&quot; + vehicleContext.getIdNo() + &quot; ä¹˜ç«è½¦ä»ï¼š&quot;
            + vehicleContext.getOrigin() + &quot;åˆ°ï¼š&quot; + vehicleContext.getDestination());
    }
}
</code></pre>
<h3 id="å®¢æˆ·ç«¯-2">å®¢æˆ·ç«¯</h3>
<pre><code>/**
 * @author Xinling Jing
 * @version 1.0.0
 * @date 2021-02-19 16:11
 */
public class Client {

    public static void main(String[] args) {

        VehicleStrategy vehicleStrategy = new TrainStrategy();
        VehicleContext vehicleContext = new VehicleContext(&quot;æ—å…‹&quot;, &quot;1001&quot;, &quot;ä¸Šæµ·&quot;, &quot;åŒ—äº¬&quot;, vehicleStrategy);
        vehicleContext.take();
    }
}
</code></pre>
<p>å®¢æˆ·ç«¯è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code>æ—å…‹ä½¿ç”¨èº«ä»½è¯ï¼š1001 ä¹˜ç«è½¦ä»ï¼šä¸Šæµ·åˆ°ï¼šåŒ—äº¬
</code></pre>
<h3 id="å¦‚ä½•æ‰©å±•">å¦‚ä½•æ‰©å±•ï¼Ÿ</h3>
<p>æ¥ä¸‹é‡Œï¼Œæˆ‘ä»¬æ·»åŠ ä¸€ä¸ªä¹˜åé£æœºçš„ç­–ç•¥å®ç°ç±»ï¼Œåœ¨æ·»åŠ ä¹‹å‰ï¼Œæ³¨æ„åˆ°ä¹˜åé£æœºä¸ä»…éœ€è¦å‡ºç¤ºèº«ä»½è¯ï¼Œè€Œä¸”è¿˜éœ€è¦å‡ºç¤ºç™»æœºç‰Œï¼Œä½†å½“å‰çš„ä¸Šä¸‹æ–‡ç±»å¹¶æ²¡æœ‰æºå¸¦ç™»æœºç‰Œè¿™ä¸ªå‚æ•°ï¼Œé‚£è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<figure data-type="image" tabindex="2"><img src="http://image.kuranado.com/blog/1613726619.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></figure>
<p>è§£å†³æ–¹æ³•æœ‰å¦‚ä¸‹ä¸‰ä¸ªï¼š</p>
<ol>
<li>ç›´æ¥åœ¨ç°æœ‰çš„ä¸Šä¸‹æ–‡ç±»ä¸­æ·»åŠ ç™»æœºç‰Œå‚æ•°ï¼Œå¹¶åœ¨æ„é€ æ–¹æ³•ä¸­åˆå§‹åŒ–è¯¥å‚æ•°</li>
<li>å†åˆ›å»ºä¸€ä¸ªæ–°çš„ä¸Šä¸‹æ–‡ç±»ï¼Œè®©æ–°ä¸Šä¸‹æ–‡ç±»ç»§æ‰¿åŸæ¥çš„ä¸Šä¸‹æ–‡ç±»ï¼Œåœ¨æ–°ä¸Šä¸‹æ–‡ç±»ä¸­æ·»åŠ ç™»æœºç‰Œå‚æ•°ï¼Œå¹¶åœ¨æ„é€ æ–¹æ³•ä¸­åˆå§‹åŒ–è¯¥å‚æ•°</li>
<li>åœ¨é£æœºç­–ç•¥å®ç°ç±»ä¸­æ·»åŠ ç™»æœºç‰Œå‚æ•°ï¼Œå¹¶åœ¨æ„é€ æ–¹æ³•ä¸­åˆå§‹åŒ–è¯¥å‚æ•°</li>
</ol>
<p>æ¥ä¸‹æ¥ä¸€ä¸€è®²è§£è¿™ä¸‰ç§æ–¹æ³•åŠå…¶ä¼˜ç¼ºç‚¹ï¼š</p>
<h4 id="æ–¹æ³•ä¸€ç›´æ¥åœ¨ç°æœ‰çš„ä¸Šä¸‹æ–‡ç±»ä¸­æ·»åŠ å‚æ•°">æ–¹æ³•ä¸€ï¼šç›´æ¥åœ¨ç°æœ‰çš„ä¸Šä¸‹æ–‡ç±»ä¸­æ·»åŠ å‚æ•°</h4>
<p>éœ€è¦ä¿®æ”¹ç°æœ‰çš„ä¸Šä¸‹æ–‡ç±»ï¼Œè¿èƒŒå¼€é—­åŸåˆ™ï¼Œç›´æ¥ Pass</p>
<h4 id="æ–¹æ³•äºŒåˆ›å»ºä¸€ä¸ªæ–°çš„ä¸Šä¸‹æ–‡ç±»">æ–¹æ³•äºŒï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ä¸Šä¸‹æ–‡ç±»</h4>
<p>åˆ›å»ºæ–°çš„ä¸Šä¸‹æ–‡ç±»ï¼š</p>
<pre><code>import lombok.Getter;

/**
 * @author Xinling Jing
 * @version 1.0.0
 * @date 2021-02-19 16:33
 */
@Getter
public class VehicleContext2 extends VehicleContext {

    /**
     * ç™»æœºç‰Œå·
     */
    private final String boardingNo;

    public VehicleContext2(String username, String idNo, String origin, String destination,
        VehicleStrategy vehicleStrategy, String boardingNo) {
        super(username, idNo, origin, destination, vehicleStrategy);
        this.boardingNo = boardingNo;
    }
}
</code></pre>
<p>é£æœºç­–ç•¥ç±»ï¼š</p>
<pre><code>/**
 * é£æœºç­–ç•¥
 *
 * @author Xinling Jing
 * @version 1.0.0
 * @date 2021-02-19 16:30
 */
public class PlaneStrategy implements VehicleStrategy {

    @Override
    public void take(VehicleContext vehicleContext) {
        VehicleContext2 vehicleContext2 = (VehicleContext2) vehicleContext;
        System.out.println(vehicleContext.getUsername() + &quot;ä½¿ç”¨èº«ä»½è¯ï¼š&quot; + vehicleContext.getIdNo() + &quot; å’Œç™»æœºç‰Œï¼š&quot;
            + vehicleContext2.getBoardingNo() + &quot; ä¹˜é£æœºä»ï¼š&quot; + vehicleContext.getOrigin() + &quot;åˆ°ï¼š&quot; + vehicleContext.getDestination());
    }
}
</code></pre>
<p>å®¢æˆ·ç«¯ï¼š</p>
<pre><code>/**
 * @author Xinling Jing
 * @version 1.0.0
 * @date 2021-02-19 16:11
 */
public class Client {

    public static void main(String[] args) {

        VehicleStrategy vehicleStrategy = new TrainStrategy();
        VehicleContext vehicleContext = new VehicleContext(&quot;æ—å…‹&quot;, &quot;1001&quot;, &quot;ä¸Šæµ·&quot;, &quot;åŒ—äº¬&quot;, vehicleStrategy);
        vehicleContext.take();

        vehicleStrategy = new PlaneStrategy();
        vehicleContext = new VehicleContext2(&quot;å¡å°”è¾¾&quot;, &quot;1002&quot;, &quot;æµ¦ä¸œå›½é™…æœºåœº&quot;, &quot;æ—¥æœ¬æˆç”°æœºåœº&quot;, vehicleStrategy, &quot;1234&quot;);
        vehicleContext.take();
    }
}
</code></pre>
<p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code>æ—å…‹ä½¿ç”¨èº«ä»½è¯ï¼š1001 ä¹˜ç«è½¦ä»ï¼šä¸Šæµ·åˆ°ï¼šåŒ—äº¬
å¡å°”è¾¾ä½¿ç”¨èº«ä»½è¯ï¼š1002 å’Œç™»æœºç‰Œï¼š1234 ä¹˜é£æœºä»ï¼šæµ¦ä¸œå›½é™…æœºåœºåˆ°ï¼šæ—¥æœ¬æˆç”°æœºåœº
</code></pre>
<h4 id="æ–¹æ³•ä¸‰åœ¨é£æœºç­–ç•¥å®ç°ç±»ä¸­æ·»åŠ å‚æ•°">æ–¹æ³•ä¸‰ï¼šåœ¨é£æœºç­–ç•¥å®ç°ç±»ä¸­æ·»åŠ å‚æ•°</h4>
<p>é£æœºç­–ç•¥ç±»ï¼š</p>
<pre><code>/**
 * é£æœºç­–ç•¥
 *
 * @author Xinling Jing
 * @version 1.0.0
 * @date 2021-02-19 16:30
 */
public class PlaneStrategy implements VehicleStrategy {

    /**
     * ç™»æœºç‰Œå·
     */
    private final String boardingNo;

    public PlaneStrategy(String boardingNo) {
        this.boardingNo = boardingNo;
    }

    @Override
    public void take(VehicleContext vehicleContext) {
        System.out.println(vehicleContext.getUsername() + &quot;ä½¿ç”¨èº«ä»½è¯ï¼š&quot; + vehicleContext.getIdNo() + &quot; å’Œç™»æœºç‰Œï¼š&quot;
            + this.boardingNo + &quot; ä¹˜é£æœºä»ï¼š&quot; + vehicleContext.getOrigin() + &quot;åˆ°ï¼š&quot; + vehicleContext.getDestination());
    }
}
</code></pre>
<p>å®¢æˆ·ç«¯ï¼š</p>
<pre><code>/**
 * @author Xinling Jing
 * @version 1.0.0
 * @date 2021-02-19 16:11
 */
public class Client {

    public static void main(String[] args) {

        VehicleStrategy vehicleStrategy = new TrainStrategy();
        VehicleContext vehicleContext = new VehicleContext(&quot;æ—å…‹&quot;, &quot;1001&quot;, &quot;ä¸Šæµ·&quot;, &quot;åŒ—äº¬&quot;, vehicleStrategy);
        vehicleContext.take();

        vehicleStrategy = new PlaneStrategy(&quot;1234&quot;);
        vehicleContext = new VehicleContext(&quot;å¡å°”è¾¾&quot;, &quot;1002&quot;, &quot;æµ¦ä¸œå›½é™…æœºåœº&quot;, &quot;æ—¥æœ¬æˆç”°æœºåœº&quot;, vehicleStrategy);
        vehicleContext.take();
    }
}
</code></pre>
<p>è¾“å‡ºç»“æœå’Œæ–¹æ³•äºŒç›¸åŒ</p>
<p>å¯¹æ¯”æ–¹æ³•äºŒå’Œæ–¹æ³•ä¸‰ï¼Œæ¯”è¾ƒå¦‚ä¸‹ï¼š</p>
<ul>
<li>æ–¹æ³•äºŒï¼šä½¿ç”¨äº†ç»§æ‰¿ï¼Œå¦‚æœåç»­æ·»åŠ çš„æ–°ç®—æ³•è¾ƒå¤šï¼Œå®¹æ˜“å½¢æˆå¤æ‚çš„ä¸Šä¸‹æ–‡å¯¹è±¡å±‚æ¬¡</li>
<li>æ–¹æ³•ä¸‰ï¼šå®ç°ç®€å•ï¼Œä½†ç­–ç•¥å®ç°ç±»ä½†ä¸€éƒ¨åˆ†æ•°æ®æ¥è‡ªäºä¸Šä¸‹æ–‡ï¼Œä¸€éƒ¨åˆ†æ¥è‡ªäºè‡ªèº«ï¼Œå¯¼è‡´å’Œå…¶ä»–ç­–ç•¥å®ç°ç±»é£æ ¼ä¸ç»Ÿä¸€</li>
</ul>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<ul>
<li>ç­–ç•¥æ¨¡å¼çš„é‡ç‚¹ä¸æ˜¯å¦‚ä½•æ¥å®ç°ç®—æ³•ï¼Œè€Œæ˜¯å¦‚ä½•ç»„ç»‡ç®—æ³•ï¼Œè®©ç¨‹åºç»“æ„æ›´çµæ´»ï¼Œå…·æœ‰æ›´å¥½çš„ç»´æŠ¤å’Œæ‰©å±•æ€§</li>
<li>å› ä¸ºéœ€è¦å®¢æˆ·ç«¯é€‰æ‹©å…·ä½“çš„ç®—æ³•ç­–ç•¥ï¼Œæ‰€ä»¥éœ€è¦å®¢æˆ·ç«¯å¯¹ç­–ç•¥ä½œå‡ºæ­£ç¡®é€‰æ‹©</li>
<li>éœ€è¦æŠŠæ¯ç§ç®—æ³•ç­–ç•¥éƒ½å°è£…æˆä¸€ä¸ªç±»ï¼Œå¦‚æœç­–ç•¥è¾ƒå¤šï¼Œåˆ™ç±»çš„æ•°ç›®ä¹Ÿä¼šå¾ˆå¯è§‚</li>
</ul>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<ul>
<li>ã€Šç ”ç£¨è®¾è®¡æ¨¡å¼ã€‹</li>
</ul>
<h2 id="æºç ">æºç </h2>
<ul>
<li><a href="https://github.com/KURANADO2/DesignPatterns">https://github.com/KURANADO2/DesignPatterns</a></li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[è§‚å¯Ÿè€…æ¨¡å¼.md]]></title>
        <id>http://blog.kuranado.com/post/guan-cha-zhe-mo-shi/</id>
        <link href="http://blog.kuranado.com/post/guan-cha-zhe-mo-shi/">
        </link>
        <updated>2021-01-28T07:01:39.000Z</updated>
        <content type="html"><![CDATA[<p>[TOC]</p>
<h2 id="ä»€ä¹ˆæ˜¯è§‚å¯Ÿè€…æ¨¡å¼">ä»€ä¹ˆæ˜¯è§‚å¯Ÿè€…æ¨¡å¼</h2>
<blockquote>
<p>è§‚å¯Ÿè€…æ¨¡å¼åˆç§°è®¢é˜…æ¨¡å¼ï¼Œç”¨äºå®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ã€‚å½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–å®ƒçš„å¯¹è±¡éƒ½å°†å¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°</p>
</blockquote>
<h2 id="è§‚å¯Ÿè€…æ¨¡å¼ç»“æ„">è§‚å¯Ÿè€…æ¨¡å¼ç»“æ„</h2>
<figure data-type="image" tabindex="1"><img src="http://image.kuranado.com/blog/1611817500.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></figure>
<h2 id="è§‚å¯Ÿè€…æ¨¡å¼å„ä¸ªè§’è‰²ä½œç”¨">è§‚å¯Ÿè€…æ¨¡å¼å„ä¸ªè§’è‰²ä½œç”¨</h2>
<ul>
<li>Subject:è§‚å¯Ÿè€…æ‰€è§‚å¯Ÿçš„<strong>ç›®æ ‡</strong>ï¼Œé€šå¸¸å…·æœ‰å¦‚ä¸‹åŠŸèƒ½
<ul>
<li>ä¸€ä¸ªç›®æ ‡å¯ä»¥è¢«å¤šä¸ªè§‚å¯Ÿè€…è§‚å¯Ÿ</li>
<li>ç›®æ ‡è´Ÿè´£å¯¹è§‚å¯Ÿè€…çš„æ³¨å†Œå’Œé€€è®¢ç»´æŠ¤</li>
<li>å½“ç›®æ ‡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œç›®æ ‡è´Ÿè´£é€šçŸ¥æ‰€å·²æ³¨å†Œçš„ã€æœ‰æ•ˆçš„è§‚å¯Ÿè€…</li>
</ul>
</li>
<li>Observer:å®šä¹‰è§‚å¯Ÿçš„æ¥å£ï¼Œæä¾›æ”¶åˆ°ç›®æ ‡é€šçŸ¥æ—¶å¯¹åº”çš„æ›´æ–°æ–¹æ³•ï¼Œè¿™ä¸ªæ›´æ–°æ–¹æ³•è¿›è¡Œç›¸åº”çš„ä¸šåŠ¡å¤„ç†ï¼Œå¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•é‡Œå›è°ƒç›®æ ‡å¯¹è±¡ï¼Œä»¥è·å–ç›®æ ‡å¯¹è±¡çš„æ•°æ®</li>
<li>ConcreateSubject:å…·ä½“çš„ç›®æ ‡å®ç°å¯¹è±¡ï¼Œç”¨æ¥ç»´æŠ¤ç›®æ ‡çŠ¶æ€ï¼Œå½“ç›®æ ‡å¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œé€šçŸ¥æ‰€æœ‰å·²æ³¨å†Œçš„ã€æœ‰æ•ˆçš„è§‚å¯Ÿè€…ï¼Œè®©è§‚å¯Ÿè€…æ‰§è¡Œç›¸åº”çš„å¤„ç†</li>
<li>ConcreateObserver:è§‚å¯Ÿè€…çš„å…·ä½“å®ç°å¯¹è±¡ï¼Œç”¨æ¥æ¥æ”¶ç›®æ ‡é€šçŸ¥ï¼Œå¹¶è¿›è¡Œç›¸åº”çš„åç»­å¤„ç†</li>
</ul>
<h2 id="æ¨¡æ¿ä»£ç ">æ¨¡æ¿ä»£ç </h2>
<h3 id="subject">Subject</h3>
<pre><code>import java.util.ArrayList;
import java.util.List;

/**
 * ç›®æ ‡å¯¹è±¡ï¼Œè´Ÿè´£æ³¨å†Œã€åˆ é™¤å’Œé€šçŸ¥è§‚å¯Ÿè€…
 *
 * @Author: Xinling Jing
 * @Date: 2019-07-22 21:06
 */
public class Subject {

    private List&lt;Observer&gt; observers = new ArrayList&lt;&gt;();

    /**
     * æ³¨å†Œè§‚å¯Ÿè€…å¯¹è±¡
     * @param observer è§‚å¯Ÿè€…å¯¹è±¡
     */
    public void register(Observer observer) {
        observers.add(observer);
    }

    /**
     * åˆ é™¤è§‚å¯Ÿè€…å¯¹è±¡
     * @param observer è§‚å¯Ÿè€…å¯¹è±¡
     */
    public void delete(Observer observer) {
        observers.remove(observer);
    }

    /**
     * é€šçŸ¥æ‰€æœ‰å·²æ³¨å†Œè§‚å¯Ÿè€…
     */
    public void notifyObservers() {
        observers.forEach(observer -&gt; observer.update(this));
    }
}
</code></pre>
<h3 id="observer">Observer</h3>
<pre><code>/**
 * è§‚å¯Ÿè€…æ¥å£ï¼Œå®šä¹‰ä¸€ä¸ªæ›´æ–°çš„æ¥å£ç»™é‚£äº›åœ¨ç›®æ ‡å‘ç”Ÿæ”¹å˜æ—¶è¢«é€šçŸ¥çš„å¯¹è±¡
 *
 * @Author: Xinling Jing
 * @Date: 2019-07-22 21:07
 */
public interface Observer {

    /**
     * ç”¨äºæ›´æ–°
     *
     * @param subject ç›®æ ‡å¯¹è±¡
     */
    void update(Subject subject);
}
</code></pre>
<h3 id="concreatesubject">ConcreateSubject</h3>
<pre><code>/**
 * å…·ä½“çš„ç›®æ ‡å¯¹è±¡ï¼Œè´Ÿè´£æŠŠæœ‰å…³çŠ¶æ€å­˜å…¥åˆ°ç›¸åº”çš„è§‚å¯Ÿè€…å¯¹è±¡ï¼Œå¹¶åœ¨è‡ªèº«çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶é€šçŸ¥å„ä¸ªè§‚å¯Ÿè€…
 *
 * @Author: Xinling Jing
 * @Date: 2019-07-22 21:14
 */
public class ConcreateSubject extends Subject {

    /**
     * ç›®æ ‡å¯¹è±¡çŠ¶æ€
     */
    private String subjectState;

    public String getSubjectState() {
        return subjectState;
    }

    public void setSubjectState(String subjectState) {
        this.subjectState = subjectState;
        // çŠ¶æ€æ”¹å˜ï¼Œé€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…
        this.notifyObservers();
    }
}
</code></pre>
<h3 id="concreateobserver">ConcreateObserver</h3>
<pre><code>/**
 * @Author: Xinling Jing
 * @Date: 2019-07-22 21:27
 */
public class ConcreateObserver implements Observer {

    /**
     * è§‚å¯Ÿè€…çš„çŠ¶æ€
     */
    private String observerState;

    @Override
    public void update(Subject subject) {
        // å…·ä½“æ›´æ–°å®ç°
    }
}
</code></pre>
<h2 id="ç®€å•ç¤ºä¾‹">ç®€å•ç¤ºä¾‹</h2>
<p>æœ€ç»å…¸çš„ä¾‹å­å°±æ˜¯è¯»è€…è®¢é˜…æŠ¥çº¸ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒæŠ¥çº¸æ˜¯è¢«è§‚å¯Ÿè€…ï¼Œè¯»è€…å°±æ˜¯è§‚å¯Ÿè€…ï¼Œè¯»è€…è®¢é˜…æŠ¥çº¸ï¼Œå½“æŠ¥çº¸å†…å®¹æ›´æ–°æ—¶ï¼Œé€šçŸ¥æ‰€æœ‰å·²è®¢é˜…çš„è¯»è€…</p>
<h3 id="subject-2">Subject</h3>
<pre><code>package com.kuranado.observer.observer2;

import java.util.ArrayList;
import java.util.List;

/**
 * ç›®æ ‡å¯¹è±¡ï¼Œè¢«è§‚å¯Ÿè€…ï¼Œä»…å®šä¹‰åŸºæœ¬çš„æ³¨å†Œè§‚å¯Ÿè€…ã€å–æ¶ˆæ³¨å†Œã€é€šçŸ¥è§‚å¯Ÿè€…æ–¹æ³•ï¼Œå…·ä½“çš„æ›´æ–°æŠ¥çº¸ç­‰åŠ¨ä½œæ”¾åœ¨å…·ä½“çš„å­ç±»ä¸­
 *
 * @Author: Xinling Jing
 * @Date: 2019-07-23 21:13
 */
public class Subject {

    private final List&lt;Observer&gt; observers = new ArrayList&lt;&gt;();

    /**
     * æ³¨å†Œ è¯»è€…è®¢é˜…æŠ¥çº¸
     *
     * @param observer è¯»è€…ï¼ˆè§‚å¯Ÿè€…ï¼‰
     */
    public void subscribe(Observer observer) {
        observers.add(observer);
    }

    /**
     * å–æ¶ˆæ³¨å†Œ è¯»è€…å–æ¶ˆè®¢é˜…
     *
     * @param observer è¯»è€…ï¼ˆè§‚å¯Ÿè€…ï¼‰
     */
    public void unsubscribe(Observer observer) {
        observers.remove(observer);
    }

    /**
     * é€šçŸ¥æ¯ä½å·²è®¢é˜…çš„è¯»è€…
     */
    public void notifyObserver() {
        // æŠŠç›®æ ‡å¯¹è±¡è‡ªèº«é€šè¿‡ update æ–¹æ³•ä¼ é€’ç»™è§‚å¯Ÿè€…ï¼Œå½“è§‚å¯Ÿè€…éœ€è¦è·å–æ•°æ®æ—¶ï¼Œå¯ä»¥é€šè¿‡ç›®æ ‡å¯¹è±¡çš„å¼•ç”¨æ¥è·å–
        observers.forEach(observer -&gt; observer.update(this));
    }
}
</code></pre>
<h3 id="newspaper">NewsPaper</h3>
<p>å¯¹åº” ConcreateSubject</p>
<pre><code>package com.kuranado.observer.observer2;

/**
 * æŠ¥çº¸å¯¹è±¡ï¼Œç»§æ‰¿ Subject
 *
 * @Author: Xinling Jing
 * @Date: 2019-07-23 21:18
 */
public class NewsPaper extends Subject {

    /**
     * æŠ¥çº¸å†…å®¹
     */
    private String content;

    /**
     * è·å–æŠ±ç€å†…å®¹
     *
     * @return æŠ¥çº¸å†…å®¹
     */
    public String getContent() {
        return content;
    }

    /**
     * æ›´æ–°æŠ¥çº¸å†…å®¹ï¼ŒåŒæ—¶é€šçŸ¥è¯»è€…ï¼ˆè§‚å¯Ÿè€…ï¼‰
     *
     * @param content æŠ¥çº¸å†…å®¹
     */
    public void setContent(String content) {
        this.content = content;
        super.notifyObserver();
    }
}
</code></pre>
<h3 id="observer-2">Observer</h3>
<pre><code>package com.kuranado.observer.observer2;

/**
 * è§‚å¯Ÿè€…æ¥å£
 *
 * @Author: Xinling Jing
 * @Date: 2019-07-23 21:13
 */
public interface Observer {

    /**
     * æ¥æ”¶é€šçŸ¥çš„æ–¹æ³•
     *
     * @param subject å…·ä½“çš„ç›®æ ‡å¯¹è±¡
     */
    void update(Subject subject);
}
</code></pre>
<h3 id="reader">Reader</h3>
<p>å¯¹åº” ConcreateObserver</p>
<pre><code>package com.kuranado.observer.observer2;

import lombok.Data;

/**
 * è¯»è€… å…·ä½“çš„è§‚å¯Ÿè€…ï¼Œå®ç°è§‚å¯Ÿè€…æ¥å£
 *
 * @Author: Xinling Jing
 * @Date: 2019-07-23 21:20
 */
@Data
public class Reader implements Observer {

    /**
     * è¯»è€…å§“å
     */
    private String name;
    // å¯å¢åŠ è¯»è€…çš„å…¶å®ƒå±æ€§ ...ï¼Œæ­¤å¤„çœç•¥

    @Override
    public void update(Subject subject) {
        // æ‹‰æ¨¡å¼
        System.out.println(name + &quot;æ”¶åˆ°æ–°æŠ¥çº¸ï¼Œå†…å®¹ä¸ºï¼š&quot; + ((NewsPaper) subject).getContent());
    }
}
</code></pre>
<h3 id="client-æµ‹è¯•ç±»">Client æµ‹è¯•ç±»</h3>
<pre><code>package com.kuranado.observer.observer2;

/**
 * @Author: Xinling Jing
 * @Date: 2019-07-23 21:25
 */
public class Client {

    public static void main(String[] args) {

        // çº½çº¦æ—¶æŠ¥æŠ¥çº¸
        NewsPaper newYorkTimes = new NewsPaper();

        Reader reader = new Reader();
        reader.setName(&quot;å°æ&quot;);
        Reader reader2 = new Reader();
        reader2.setName(&quot;å°ç‹&quot;);
        Reader reader3 = new Reader();
        reader3.setName(&quot;å°èµµ&quot;);

        // è¯»è€…è®¢é˜…æŠ¥çº¸
        newYorkTimes.subscribe(reader);
        newYorkTimes.subscribe(reader2);
        newYorkTimes.subscribe(reader3);

        // çº½çº¦æ—¶æŠ¥æŠ¥çº¸æ›´æ–°å†…å®¹
        newYorkTimes.setContent(&quot;ä»»è¾¾å 3 å˜ç±³åˆ€ä¼¤&quot;);

        // å°æå–æ¶ˆè®¢é˜…
        newYorkTimes.unsubscribe(reader);

        // çº½çº¦æ—¶æŠ¥æŠ¥çº¸æ›´æ–°å†…å®¹
        newYorkTimes.setContent(&quot;æ°‘èˆªå±€:æ˜¥èŠ‚æœŸé—´æœºç¥¨å¯å…è´¹é€€æ”¹&quot;);
    }
}
</code></pre>
<p>è¾“å‡ºç»“æœï¼š</p>
<pre><code>å°ææ”¶åˆ°æ–°æŠ¥çº¸ï¼Œå†…å®¹ä¸ºï¼šä»»è¾¾å 3 å˜ç±³åˆ€ä¼¤
å°ç‹æ”¶åˆ°æ–°æŠ¥çº¸ï¼Œå†…å®¹ä¸ºï¼šä»»è¾¾å 3 å˜ç±³åˆ€ä¼¤
å°èµµæ”¶åˆ°æ–°æŠ¥çº¸ï¼Œå†…å®¹ä¸ºï¼šä»»è¾¾å 3 å˜ç±³åˆ€ä¼¤
å°ç‹æ”¶åˆ°æ–°æŠ¥çº¸ï¼Œå†…å®¹ä¸ºï¼šæ°‘èˆªå±€:æ˜¥èŠ‚æœŸé—´æœºç¥¨å¯å…è´¹é€€æ”¹
å°èµµæ”¶åˆ°æ–°æŠ¥çº¸ï¼Œå†…å®¹ä¸ºï¼šæ°‘èˆªå±€:æ˜¥èŠ‚æœŸé—´æœºç¥¨å¯å…è´¹é€€æ”¹
</code></pre>
<h2 id="å®é™…ä¸šåŠ¡ç¤ºä¾‹">å®é™…ä¸šåŠ¡ç¤ºä¾‹</h2>
<p>å®é™…å¼€å‘ä¸­äº§å“æœ‰è¿™æ ·ä¸€ä¸ªéœ€æ±‚ï¼š<br>
ç®¡ç†å¹³å°ä¸Šæœ‰ä¸¤ä¸ªæ¨¡å—ï¼Œåˆ†åˆ«æ˜¯<strong>ç‰ˆæœ¬ç®¡ç†</strong>å’Œ<strong>PN ç®¡ç†</strong>ã€‚<br>
<strong>ç‰ˆæœ¬ç®¡ç†</strong>æ¨¡å—ä¸‹æ¯ä¸ªç‰ˆæœ¬ä¼šå…³è”è‹¥å¹²ä¸ª PNï¼Œå¯¹ç‰ˆæœ¬æ‰§è¡Œå¢ã€åˆ ã€æ”¹æ“ä½œæ—¶ï¼Œä¹Ÿå¯ä»¥å¯¹ç‰ˆæœ¬ä¸‹çš„ PN è¿›è¡Œå¢ã€åˆ ã€æ”¹ï¼ˆè¿™é‡Œçš„ <code>ç‰ˆæœ¬</code> å’Œ <code>PN</code> éƒ½æ˜¯ä¸šåŠ¡ä¸Šçš„æ¦‚å¿µï¼Œæ— éœ€æ·±ç©¶ï¼‰ã€‚<br>
<strong>PN ç®¡ç†</strong>æ¨¡å—åˆ™å°†<strong>ç‰ˆæœ¬ç®¡ç†</strong>æ¨¡å—çš„æ‰€æœ‰ç‰ˆæœ¬ä¸‹çš„ PN æ±‡æ€»å»é‡åå±•ç¤º<br>
ç°åœ¨äº§å“è¦æ±‚ï¼šåœ¨å¢ã€åˆ ã€æ”¹ ç‰ˆæœ¬æ—¶ï¼ŒPN ç®¡ç†ä¸‹çš„åˆ—è¡¨æ•°æ®ä¹Ÿè¦å¯¹åº”æ›´æ–°</p>
<p>è¿™é‡Œå¯ä»¥åº”ç”¨è§‚å¯Ÿè€…æ¨¡å¼ï¼Œç‰ˆæœ¬ç®¡ç†ä½œä¸ºç›®æ ‡ï¼ŒPN ç®¡ç†ä½œä¸ºè§‚å¯Ÿè€…ï¼Œå½“ç‰ˆæœ¬ç®¡ç†å‘ç”Ÿæ”¹å˜æ—¶ï¼ˆæ‰§è¡Œäº†å¢ã€åˆ ã€æ”¹ï¼‰ï¼Œé€šçŸ¥ PN ç®¡ç†æ¨¡å—æ›´æ–°æ•°æ®åº“æ•°æ®ã€‚ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬è¿™é‡Œå¯ä»¥ç›´æ¥ä½¿ç”¨ Java æä¾›çš„è§‚å¯Ÿè€…æ¨¡å¼ï¼Œè®©ç‰ˆæœ¬ç®¡ç†æ¨¡å—ï¼ˆç›®æ ‡ã€è¢«è§‚å¯Ÿè€…ï¼‰ç»§æ‰¿ <code>java.util.Observable</code> ç±»ï¼ŒPN ç®¡ç†æ¨¡å—ï¼ˆè§‚å¯Ÿè€…ï¼‰å®ç° <code>java.util.Observer</code> æ¥å£<br>
ä¸Šä»£ç ï¼š</p>
<h3 id="ç‰ˆæœ¬ç®¡ç†æ¨¡å—è¢«è§‚å¯Ÿè€…">ç‰ˆæœ¬ç®¡ç†æ¨¡å—ï¼ˆè¢«è§‚å¯Ÿè€…ï¼‰</h3>
<p>è¢«è§‚å¯Ÿè€…éœ€è¦ç»§æ‰¿ <code>java.util.Observable</code> ç±»ï¼š</p>
<pre><code>/**
 * @author Xinling Jing
 * @date 2020/10/24 21:19
 * @since 1.0.0
 */
@Service(value = &quot;versionService&quot;)
@RequiredArgsConstructor
@Slf4j
public class VersionServiceImpl extends Observable implements VersionService {

    private final VersionConverter versionConverter;

    private final BaseVersionConverterDecorator baseVersionConverterDecorator;

    private final VersionEntityExtraMapper versionEntityExtraMapper;

    private final VersionPnEntityExtraMapper versionPnEntityExtraMapper;

    private final ModelEntityExtraMapper modelEntityExtraMapper;

    private final ModelEcuEntityExtraMapper modelEcuEntityExtraMapper;

    private static final Integer ECU_NAME_LENGTH = 20;
    private static final Integer VERSION_NAME_LENGTH = 30;
    private static final Integer MODULE_ID_LENGTH = 2;
    private static final Integer PART_NUMBER_LENGTH = 20;

    ...
    @Override
    @Transactional(rollbackFor = Exception.class)
    public &lt;T&gt; boolean save(T dto) {
        AddVersionDTO addVersionDTO = (AddVersionDTO) dto;
        VersionEntity versionEntity = baseVersionConverterDecorator.addVersionDto2VersionEntity(addVersionDTO);
        versionEntityExtraMapper.insert(versionEntity);
        List&lt;VersionPnEntity&gt; versionPnEntityList =
            baseVersionConverterDecorator.addVersionPnDtoList2VersionPnEntityList(addVersionDTO.getVersionPnDTOList());
        ...
        // çŠ¶æ€æ”¹å˜
        this.setChanged();
        // é€šçŸ¥è§‚å¯Ÿè€…
        this.notifyObservers(versionConverter.addVersionDto2QueryVersionDto(addVersionDTO));
        return true;
    }

    @Override
    @Transactional(rollbackFor = Exception.class)
    public &lt;T&gt; boolean updateById(T dto, Long id) {
        UpdateVersionDTO updateVersionDTO = (UpdateVersionDTO) dto;
        VersionVO versionVO = getVersionVO(id, OperationTypeEnum.UPDATE);

        QueryVersionDTO param = QueryVersionDTO.builder().carSeries(versionVO.getCarSeries())
            .modelYear(versionVO.getModelYear()).ecuName(versionVO.getEcuName()).build();
        ...
        this.setChanged();
        this.notifyObservers(param);
        return true;
    }

    @Override
    @Transactional(rollbackFor = Exception.class)
    public &lt;T&gt; boolean deleteById(Long id) {
        VersionVO versionVO = getVersionVO(id, OperationTypeEnum.DELETE);
        QueryVersionDTO param = QueryVersionDTO.builder().carSeries(versionVO.getCarSeries())
            .modelYear(versionVO.getModelYear()).ecuName(versionVO.getEcuName()).build();
        versionEntityExtraMapper.deleteById(id);
        versionPnEntityExtraMapper.deleteByEcuVersionId(id);
        this.setChanged();
        this.notifyObservers(param);
        return true;
    }
    ...
}
</code></pre>
<p>å¯ä»¥çœ‹åˆ°åœ¨å¢ã€åˆ ã€æ”¹ç‰ˆæœ¬åï¼Œéƒ½æ‰§è¡Œäº†ä¸‹é¢ä¸¤è¡Œä»£ç ï¼š</p>
<pre><code>// ç›®æ ‡çŠ¶æ€æ”¹å˜
this.setChanged();
// é€šçŸ¥è§‚å¯Ÿè€…ï¼Œparam ä¸ºå‘é€ç»™è§‚å¯Ÿè€…çš„å…·ä½“å†…å®¹
this.notifyObservers(param);
</code></pre>
<p>è¿™é‡Œç¬¬ä¸€è¡Œä»£ç æ˜¯å¿…éœ€çš„ï¼Œç”¨äºè¡¨ç¤ºç›®æ ‡çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼Œå¦åˆ™åªæ‰§è¡Œç¬¬äºŒè¡Œä»£ç å¹¶ä¸èƒ½é€šçŸ¥åˆ°è§‚å¯Ÿè€…</p>
<h3 id="pn-ç®¡ç†æ¨¡å—è§‚å¯Ÿè€…">PN ç®¡ç†æ¨¡å—ï¼ˆè§‚å¯Ÿè€…ï¼‰</h3>
<p>è§‚å¯Ÿè€…éœ€è¦å®ç° <code>java.util.Observer</code> æ¥å£ï¼š</p>
<pre><code>/**
 * @author Xinling Jing
 * @date 2020/10/28 17:00
 * @since 1.0.0
 */
@Service(value = &quot;pnService&quot;)
@RequiredArgsConstructor
@Slf4j
public class PnServiceImpl implements PnService, Observer {

    @Value(&quot;${fdfs.down_location}&quot;)
    private String downUrl;

    private final PnEntityExtraMapper pnEntityExtraMapper;

    private final VersionService versionService;

    private final VersionEntityExtraMapper versionEntityExtraMapper;

    private final VersionPnEntityExtraMapper versionPnEntityExtraMapper;

    private final PnConverter pnConverter;

    private final BasePnConverterDecorator basePnConverterDecorator;

    private final FastDFSClientWrapper fastDFSClientWrapper;

    private final IdService idService;
    ...
    /**
     * Bean åˆ›å»ºåæ‰§è¡Œ
     */
    @PostConstruct
    public void init() {
        // è§‚å¯Ÿè€…è¿›è¡Œè®¢é˜…
        if (versionService instanceof VersionServiceImpl) {
            ((VersionServiceImpl) versionService).addObserver(this);
        }
    }

    /**
     * ç»´æŠ¤æ›´æ–° PN ç®¡ç†åˆ—è¡¨ï¼Œæ‰€å¿…é¡»çš„ä¸‰ä¸ªå‚æ•°ï¼š
     * &lt;ul&gt;
     * &lt;li&gt;è½¦ç³»&lt;/li&gt;
     * &lt;li&gt;è½¦å‹å¹´&lt;/li&gt;
     * &lt;li&gt;EcuName&lt;/li&gt;
     * &lt;/ul&gt;
     * è¢«è§‚å¯Ÿè€…åœ¨å¯¹ç‰ˆæœ¬å¢ã€åˆ ã€æ”¹æ—¶å‘å¸ƒæ¶ˆæ¯ï¼Œè§‚å¯Ÿè€…æ¥æ”¶åˆ°æ¶ˆæ¯åéœ€è¦ç»´æŠ¤ PN ç®¡ç†åˆ—è¡¨
     *
     * @param o è¢«è§‚å¯Ÿè€…ï¼ˆå³å‘å¸ƒè€…ï¼‰
     * @param arg è¢«è§‚å¯Ÿè€…ï¼ˆå³å‘å¸ƒè€…ï¼‰æ‰€å‘å¸ƒçš„å†…å®¹ï¼ˆè¢«è§‚å¯Ÿè€…åœ¨å¯¹ç‰ˆæœ¬å¢ã€åˆ ã€æ”¹æ—¶å‘å¸ƒå†…å®¹ï¼‰
     */
    @Override
    public void update(Observable o, Object arg) {
        if (!(arg instanceof QueryVersionDTO)) {
            return;
        }
        QueryVersionDTO queryVersionDTO = (QueryVersionDTO) arg;
        // ç»´æŠ¤æ›´æ–° PN ç®¡ç†å¯¹åº”æ•°æ®è¡¨ä¸‹çš„æ•°æ®
        ...
    }
    ...
}
</code></pre>
<p>é€šè¿‡åˆ©ç”¨è§‚å¯Ÿè€…æ¨¡å¼ï¼Œæœ‰æ•ˆçš„è§£è€¦äº†ç‰ˆæœ¬ç®¡ç†å’Œ PN ç®¡ç†ä¸¤ä¸ªä¸šåŠ¡æ¨¡å—çš„æ•°æ®æ›´æ–°ï¼Œå¦‚æœåé¢æœ‰æ–°æ¨¡å—éœ€è¦åœ¨ç‰ˆæœ¬ç®¡ç†å‘ç”Ÿå˜åŠ¨æ—¶ï¼Œæ•°æ®éšä¹‹æ”¹åŠ¨ï¼ŒåŒæ ·å¯ä»¥è®©æ–°æ¨¡å—ä½œä¸ºè§‚å¯Ÿè€…è®¢é˜…ç‰ˆæœ¬ç®¡ç†æ¨¡å—</p>
<p>å¯¹äº Java æä¾›çš„ <code>java.util.Observable</code> ç±»å’Œ <code>java.util.Observer</code> æ¥å£ï¼Œå¤§å®¶ä¹Ÿä¸å¦¨è‡ªè¡Œé˜…è¯»æºç ï¼Œä¼šå‘ç°å’Œæˆ‘ä»¬è‡ªå·±å®ç°çš„ <code>Subject</code> ç±»å’Œ <code>Observer</code> æ¥å£å¹¶æ²¡æœ‰å¤ªå¤§åŒºåˆ«ï¼Œå¾ˆå®¹æ˜“ç†è§£</p>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<h3 id="è§‚å¯Ÿè€…æ¨¡å¼çš„æœ¬è´¨">è§‚å¯Ÿè€…æ¨¡å¼çš„æœ¬è´¨</h3>
<p>è§¦å‘è”åŠ¨ã€‚å½“ä¿®æ”¹ç›®æ ‡å¯¹è±¡çš„çŠ¶æ€æ—¶ï¼Œå°±ä¼šè§¦å‘ç›¸åº”é€šçŸ¥ï¼Œé€šçŸ¥æ‰€æœ‰å·²æ³¨å†Œçš„è§‚å¯Ÿè€…å¯¹è±¡ï¼Œè°ƒç”¨è¿™äº›è§‚å¯Ÿè€…å¯¹è±¡çš„æ›´æ–°æ–¹æ³•</p>
<h3 id="ä¼˜ç¼ºç‚¹">ä¼˜ç¼ºç‚¹</h3>
<h4 id="ä¼˜ç‚¹">ä¼˜ç‚¹</h4>
<ul>
<li>ä¸šåŠ¡è§£è€¦</li>
<li>åŠ¨æ€è”åŠ¨</li>
<li>æ”¯æŒå¹¿æ’­é€šä¿¡ï¼Œä½†è¦é˜²æ­¢å¹¿æ’­äº§ç”Ÿæ­»å¾ªç¯:A å¯¹è±¡çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼Œå¹¿æ’­é€šçŸ¥åˆ° Bï¼ŒB æ›´æ–°åï¼Œæœ‰å¯èƒ½åè¿‡æ¥å¹¿æ’­é€šçŸ¥ Aï¼Œç„¶å A çŠ¶æ€å†æ¬¡å‘ç”Ÿæ”¹å˜ï¼Œå¹¿æ’­é€šçŸ¥ B......</li>
</ul>
<h4 id="ç¼ºç‚¹">ç¼ºç‚¹</h4>
<ul>
<li>å¯èƒ½äº§ç”Ÿå¯¹ä¸éœ€è¦æ›´æ–°çš„è§‚å¯Ÿè€…äº§ç”Ÿè¯¯æ›´æ–°ï¼Œæ‰€ä»¥åœ¨é€šçŸ¥å‰ï¼Œå¯¹äºä¸éœ€è¦æ”¶åˆ°é€šçŸ¥çš„è§‚å¯Ÿè€…ï¼Œåº”åŠæ—¶å°†å…¶ä»è§‚å¯Ÿè€…åˆ—è¡¨ä¸­å‰”é™¤æ‰</li>
</ul>
<h3 id="ç›®æ ‡å’Œè§‚å¯Ÿè€…ä¹‹é—´çš„å…³ç³»">ç›®æ ‡å’Œè§‚å¯Ÿè€…ä¹‹é—´çš„å…³ç³»</h3>
<ul>
<li>ä¸€ä¸ªç›®æ ‡å¯ä»¥è¢«å¤šä¸ªè§‚å¯Ÿè€…è§‚å¯Ÿ</li>
<li>ä¸€ä¸ªç›®æ ‡ä¹Ÿå¯ä»¥åªè¢«ä¸€ä¸ªè§‚å¯Ÿè€…è§‚å¯Ÿï¼Œæˆ‘ä»¬ä¸Šé¢çš„ä¸šåŠ¡ä¾‹å­å°±æ˜¯å¦‚æ­¤</li>
<li>ä¸€ä¸ªè§‚å¯Ÿè€…å¯ä»¥åªè§‚å¯Ÿä¸€ä¸ªç›®æ ‡</li>
<li>ä¸€ä¸ªç›®æ ‡ä¹Ÿå¯ä»¥è§‚å¯Ÿå¤šä¸ªç›®æ ‡ï¼Œå¯¹äºè¿™ç§æƒ…å†µï¼Œè§‚å¯Ÿè€…æ¥å£ä¸ºæ¯ä¸ªç›®æ ‡æä¾›ä¸åŒçš„å›è°ƒæ–¹æ³•ï¼Œä»¥æŒ‰éœ€å¯¹ä¸åŒç›®æ ‡çš„é€šçŸ¥æ‰§è¡Œä¸åŒçš„åç»­æ“ä½œ</li>
</ul>
<h3 id="å•å‘ä¾èµ–">å•å‘ä¾èµ–</h3>
<p>è§‚å¯Ÿè€…å§‹ç»ˆä¾èµ–äºç›®æ ‡ï¼Œæ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œåªæœ‰ç›®æ ‡çŸ¥é“ä»€ä¹ˆæ—¶å€™éœ€è¦é€šçŸ¥è§‚å¯Ÿè€…ï¼Œè§‚å¯Ÿè€…å§‹ç»ˆæ˜¯è¢«åŠ¨çš„ç­‰å¾…é€šçŸ¥åˆ°æ¥ã€‚å¯¹ç›®æ ‡è€Œè¨€ï¼Œç›®æ ‡å¯ä»¥å¯¹è§‚å¯Ÿè€…åŒºåˆ«å¯¹å¾…ï¼Œæ¯”å¦‚æŸäº›çŠ¶æ€å˜åŒ–ï¼Œåªé€šçŸ¥éƒ¨åˆ†è§‚å¯Ÿè€…ï¼Œå¹¶ä¸é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…</p>
<h3 id="é€šçŸ¥é¡ºåº">é€šçŸ¥é¡ºåº</h3>
<p>ç›®æ ‡çŠ¶æ€å‘ç”Ÿæ”¹å˜å¾ªç¯éå†é€šçŸ¥è§‚å¯Ÿè€…æ—¶ï¼Œä¸€èˆ¬é€šçŸ¥çš„é¡ºåºæ˜¯ä¸ç¡®å®šçš„ï¼Œæ‰€ä»¥è§‚å¯Ÿè€…å®ç°çš„åŠŸèƒ½ï¼Œç»å¯¹ä¸èƒ½ä¾èµ–äºé€šçŸ¥çš„é¡ºåºã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¤šä¸ªè§‚å¯Ÿè€…ä¹‹é—´çš„åŠŸèƒ½æ˜¯å¹³è¡Œçš„ï¼Œç›¸äº’ä¸åº”è¯¥æœ‰å…ˆåçš„ä¾èµ–å…³ç³»</p>
<h3 id="å‘½åå»ºè®®">å‘½åå»ºè®®</h3>
<ul>
<li>ç›®æ ‡ç±»ä»¥ Subject ç»“å°¾</li>
<li>è§‚å¯Ÿè€…æ¥å£ä»¥ Observer ç»“å°¾</li>
<li>è§‚å¯Ÿè€…æ¥å£ä¸­çš„æ›´æ–°æ–¹æ³•ï¼Œåç§°å®šä¸º update</li>
</ul>
<h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</h2>
<ul>
<li>ã€Šç ”ç£¨è®¾è®¡æ¨¡å¼ã€‹</li>
<li><a href="https://mrdear.cn/2018/04/20/experience/design_patterns--observer/">å­¦é•¿åšå®¢-è®¾è®¡æ¨¡å¼--è§‚å¯Ÿè€…æ¨¡å¼çš„æ€è€ƒ</a></li>
</ul>
<h2 id="æºç ">æºç </h2>
<ul>
<li><a href="https://github.com/KURANADO2/DesignPatterns">https://github.com/KURANADO2/DesignPatterns</a></li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ¬ç –å·¥å…· - äººç”Ÿç¬¬ä¸€å—é™ç”µå®¹é”®ç›˜ NIZ å®èŠ micro 82]]></title>
        <id>http://blog.kuranado.com/post/ban-zhuan-gong-ju-ren-sheng-di-yi-kuai-jing-dian-rong-jian-pan-niz-ning-zhi-micro-82/</id>
        <link href="http://blog.kuranado.com/post/ban-zhuan-gong-ju-ren-sheng-di-yi-kuai-jing-dian-rong-jian-pan-niz-ning-zhi-micro-82/">
        </link>
        <updated>2020-11-11T07:53:20.000Z</updated>
        <content type="html"><![CDATA[<p>æœ€è¿‘ä¸€ç›´æƒ³æ¢å—å¸ƒå±€ç´§å‡‘çš„é”®ç›˜ï¼Œä¸ªäººå¯¹äºé”®ç›˜å¸ƒå±€çš„è¦æ±‚å¾ˆç®€å•ï¼š<br>
- ç´§å‡‘å°å·§<br>
- å¿…é¡»è¦æœ‰æ–¹å‘é”®å’Œ F1~F12<br>
- æœ‰ âŒ˜ é”®å’Œ âŒ¥ é”®ï¼Œä»¥é€‚ç”¨ Macï¼Œä¸ç„¶ä¸ºäº†ä¿æŒå’Œ Mac é”®ç›˜å¸ƒå±€ä¸€è‡´ï¼Œå¿…é¡»é€šè¿‡ Karabiner æˆ–å…¶å®ƒè½¯ä»¶å®ç° Alt é”®å’Œ Win é”®çš„ä½ç½®å¯¹è°ƒ<br>
æ™šä¸Šåœ¨äº¬ä¸œåˆ·åˆ°äº†å®èŠçš„ 82 é”®é™ç”µå®¹é”®ç›˜ï¼Œé”®ç›˜å¸ƒå±€åˆšå¥½ç¬¦åˆæˆ‘çš„è¦æ±‚ï¼Œè™½ç„¶é»˜è®¤æ˜¯é€‚åº”äº Windows çš„ Alt å’Œ Winï¼Œä½†ä¼šé™„èµ ä¸€å¥— âŒ˜ å’Œ âŒ¥ é”®å¸½ç”¨äºæ›¿æ¢ï¼Œè€Œä¸”å¯ä»¥é€šè¿‡è®¾ç½®åˆ‡æ¢ Mac ç³»ç»Ÿå’Œ Win ç³»ç»Ÿï¼Œå†ä¹Ÿä¸éœ€è¦é€šè¿‡ Karabiner å¯¹è°ƒæŒ‰é”®äº†<br>
åªæ˜¯ä»æ¥æ²¡ç”¨è¿‡é™ç”µå®¹é”®ç›˜ï¼Œæ‰‹æ„Ÿæ˜¯å¦é€‚åˆè‡ªå·±å°±ä¸å¤ªç¡®å®šäº†ã€‚åœ¨ B ç«™çœ‹äº†å‡ æ®µå¼€ç®±è¯„æµ‹è§†é¢‘ï¼Œæ„Ÿè§‰åº”è¯¥ä¸ä¼šæœ‰ä»€ä¹ˆå¤§é—®é¢˜ã€‚è€Œä¸”é™ç”µå®¹é”®ç›˜ä¸€èˆ¬æ¯”æœºæ¢°é”®ç›˜è´µä¸Šä¸å°‘ï¼Œæƒ³å¿…æ‰‹æ„Ÿä¹Ÿä¸ä¼šæ¯”æœºæ¢°é”®ç›˜å·®å§ğŸ¤”<br>
è‡³äºä»·æ ¼çš„è¯ï¼ŒåŒæ¨¡ç‰ˆå…«ç™¾å¤šå—ï¼Œå› ä¸ºåå¤©å°±æ˜¯åŒåä¸€ï¼Œä»Šå¤©ä¹°çš„è¯ï¼Œå³ä¾¿åŒåä¸€é™ä»·äº†ï¼Œä¹Ÿå¯ä»¥ç”³è¯·ä»·ä¿ï¼Œæ‰€ä»¥è¿˜æ˜¯ç”¨ä¸Šäº†ä¹‹å‰çš„äº¬ä¸œå¡ä¸‹å•äº†è¿™æ¬¾é”®ç›˜<br>
å¦å¤–ä¹Ÿæœ‰ç²—ç•¥æµè§ˆäº†ä¸‹ä¼ è¯´ä¸­çš„ HHKBï¼Œé¦–å…ˆä»·æ ¼å°±ä¸åœ¨æˆ‘çš„æ‰¿å—èŒƒå›´ä¹‹å†…</p>
<figure data-type="image" tabindex="1"><img src="http://image.kuranado.com/blog/1605081464.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></figure>
<p>ç¬¬äºŒé”®å¸½å¸ƒå±€ä¸Šé¢ï¼Œç¼ºå°‘æ–¹å‘é”®å’Œ F1~F12ï¼Œè™½ç„¶å¯ä»¥é€šè¿‡åŠ  FN é”®å¼¥è¡¥ï¼Œä½†å´æ„å‘³ç€å¤§é‡çš„å¿«æ·é”®éƒ½éœ€è¦åŠ æŒ‰ FNï¼Œå®åœ¨æ˜¯ä»¤äººéš¾ä»¥å¿å—</p>
<p>ç¬¬äºŒå¤©åƒå®Œæ™šé¥­ï¼Œæ‹¿åˆ°äº†é”®ç›˜ï¼Œä¸Šå‡ å¼ å›¾ç‰‡ï¼š</p>
<figure data-type="image" tabindex="2"><img src="http://image.kuranado.com/blog/1605425206.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></figure>
<p>è½´ä½“ï¼ˆä¸çŸ¥é“æ˜¯ä¸æ˜¯åº”è¯¥å«è½´ä½“ï¼‰å’Œæœºæ¢°é”®ç›˜å®Œå…¨ä¸åŒï¼š</p>
<figure data-type="image" tabindex="3"><img src="http://image.kuranado.com/blog/1605081550.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></figure>
<p>å’Œè€é”®ç›˜ï¼ˆikbc c104ï¼‰çš„å¯¹æ¯”ï¼š</p>
<figure data-type="image" tabindex="4"><img src="http://image.kuranado.com/blog/1605081562.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></figure>
<p>è¯´ä¸‹è‡ªå·±ç®€å•ä½¿ç”¨ä¸­çš„æ„Ÿå—å§ï¼<br>
- ç›¸è¾ƒæœºæ¢°é”®ç›˜ï¼Œé™ç”µå®¹é”®ç›˜é•¿æ—¶é—´ä½¿ç”¨èµ·æ¥ä¼šæ›´è½»æ¾ä¸€äº›ï¼ŒæŒ‰å‹åŠ›åº¦çœŸçš„å¾ˆå°ï¼Œæ‰“èµ·å­—æ¥æŒºèˆ’æœï¼ˆç°åœ¨çš„æ—¥è®°å†…å®¹å…¨æ˜¯ç”¨è¿™å—æ–°é”®ç›˜å†™å‡ºæ¥çš„ï¼‰ï¼ŒåŒ…è£…é™„èµ çš„ä¸€äº›å¢å¤§å‹åŠ›çš„å°å¼¹ç°§ä¸ªäººè§‰å¾—æ²¡æœ‰å¿…è¦ä½¿ç”¨<br>
- å£°éŸ³æ²‰é—·ï¼Œä¸ä¼šå‘å‡ºæœºæ¢°é”®ç›˜é‚£æ ·å’”å“’å’”å“’çš„åµé—¹å£°ï¼Œè€Œæ˜¯æœ‰ç§æ²™æ²™æ²™çš„æ„Ÿè§‰<br>
- é”®ç›˜å¸ƒå±€æ–¹é¢å¾ˆå°å·§ã€ç´§å‡‘ï¼ŒæŒ‰é”®è™½å°‘ï¼Œä½†å¯¹äºæˆ‘æ¥è¯´å¾ˆé‡è¦çš„æ–¹å‘é”®ã€HOMEã€END å´ä¸€ä¸ªæ²¡å°‘<br>
- è“ç‰™å»¶è¿Ÿæ–¹é¢ï¼Œç³»ç»Ÿè‡ªå¸¦è“ç‰™å’Œé™„èµ çš„è“ç‰™æ¥æ”¶å™¨éƒ½è¯•äº†ä¸€ä¸‹ï¼Œè‚‰çœ¼å¯è§çš„å»¶è¿Ÿï¼Œæœ€ç»ˆè¿˜æ˜¯æ’ä¸Šäº†é™„èµ çš„ USB-TypeC è¿æ¥çº¿ï¼Œç¬é—´å»¶è¿Ÿæ¶ˆå¤±ï¼Œæ‰€ä»¥å¦‚æœæ³¨é‡æ— çº¿ä½¿ç”¨çš„è¯ï¼Œä¸ªäººå¹¶ä¸æ¨èè¿™æ¬¾é”®ç›˜<br>
è·Ÿäº†æˆ‘æˆ‘ 4 å¹´çš„ ikbc ç»ˆäºå¯ä»¥å…‰è£é€€ä¼‘äº†</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[CSS3 2D è½¬æ¢.md]]></title>
        <id>http://blog.kuranado.com/post/css3-2d-zhuan-huan-md/</id>
        <link href="http://blog.kuranado.com/post/css3-2d-zhuan-huan-md/">
        </link>
        <updated>2020-10-28T07:48:18.000Z</updated>
        <content type="html"><![CDATA[<p>[TOC]</p>
<blockquote>
<p>CSS3 trasform å±æ€§å¯å®ç°å…ƒç´ çš„ä½ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ç­‰æ•ˆæœ</p>
</blockquote>
<h2 id="translate-ç§»åŠ¨">translate ç§»åŠ¨</h2>
<ul>
<li>transform:
<ul>
<li>translate(x, y) æ²¿ç€ x è½´å’Œ y è½´ç§»åŠ¨ä½ç½®ï¼Œå•ä½å¯ä»¥ä¸ºåƒç´ ã€ç™¾åˆ†æ¯”ï¼ˆç§»åŠ¨è·ç¦»ä¸ºç›¸å¯¹äºè‡ªèº«å…ƒç´ çš„ç™¾åˆ†æ¯”ï¼Œè€Œä¸æ˜¯çˆ¶å…ƒç´ çš„ç™¾åˆ†æ¯”ï¼‰</li>
<li>translateX(x) æ²¿ç€ x è½´ç§»åŠ¨ä½ç½®ï¼Œç­‰ä»·äº translate(x, 0)</li>
<li>translateY(y) æ²¿ç€ y è½´ç§»åŠ¨ä½ç½®ï¼Œç­‰ä»·äº translate(0, y)</li>
</ul>
</li>
</ul>
<pre><code>div {
    width: 200px;
    height: 200px;
    background-color: skyblue;
    transform: translate(30%, 0);
}
&lt;div&gt;&lt;/div&gt;
</code></pre>
<p>æ²¿ x è½´æ–¹å‘ç§»åŠ¨ 200px * 30% = 60px</p>
<figure data-type="image" tabindex="1"><img src="http://image.kuranado.com/blog/1603871371.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></figure>
<p><strong>æ³¨æ„</strong>ï¼š</p>
<ul>
<li>å¯¹è¡Œå†…å…ƒç´ æ²¡æœ‰æ•ˆæœ</li>
<li>translate æœ€å¤§çš„ä¼˜ç‚¹æ˜¯<strong>ä¸ä¼šå½±å“å…¶å®ƒå…ƒç´ çš„ä½ç½®</strong></li>
</ul>
<pre><code>div:first-child {
    width: 200px;
    height: 200px;
    background-color: skyblue;
    transform: translate(100px, 100px);
}
div:last-child {
    width: 200px;
    height: 200px;
    background-color: pink;
}
&lt;div&gt;&lt;/div&gt;
&lt;div&gt;&lt;/div&gt;
</code></pre>
<figure data-type="image" tabindex="2"><img src="http://image.kuranado.com/blog/1603871383.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></figure>
<h3 id="traslate-å®ç°ç›’å­æ°´å¹³å‚ç›´å±…ä¸­">traslate å®ç°ç›’å­æ°´å¹³/å‚ç›´å±…ä¸­</h3>
<p>æ–¹æ³•ä¸€ï¼š<br>
ä¹Ÿå°±æ˜¯ä»¥å‰å®ç°ç›’å­åœ¨çˆ¶å…ƒç´ å†…æ°´å¹³å‚ç›´å‰§ä¸­çš„æ–¹æ³•</p>
<pre><code>* {
    margin: 0;
    padding: 0;
}
div {
    position: relative;
    width: 200px;
    height: 200px;
    background-color: skyblue;
}
p {
    position: absolute;
    top: 50%;
    left: 50%;
    /* è¯¥å€¼ä¸ºè‡ªèº«å…ƒç´ é«˜åº¦çš„ä¸€åŠï¼Œå¦‚æœè‡ªèº«é«˜åº¦æ”¹å˜ï¼Œåˆ™éœ€è¦é‡æ–°ä¿®æ”¹è¯¥å€¼ */
    margin-top: -50px;
    /* è¯¥å€¼ä¸ºè‡ªèº«å…ƒç´ å®½åº¦çš„ä¸€åŠï¼Œå¦‚æœè‡ªèº«å®½åº¦æ”¹å˜ï¼Œåˆ™éœ€è¦é‡æ–°ä¿®æ”¹è¯¥å€¼ */
    margin-left: -50px;
    width: 100px;
    height: 100px;
    background-color: pink;
}
&lt;div&gt;
    &lt;p&gt;&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<p>æ–¹æ³•äºŒï¼šä½¿ç”¨ traslate çš„å†™æ³•ï¼š</p>
<pre><code>* {
    margin: 0;
    padding: 0;
}
div {
    position: relative;
    width: 200px;
    height: 200px;
    background-color: skyblue;
}
p {
    position: absolute;
    top: 50%;
    left: 50%;
    /* å³ä¾¿è‡ªèº«å®½åº¦æˆ–é«˜åº¦å˜åŒ–ï¼Œä¹Ÿæ— éœ€åšä»»ä½•ä¿®æ”¹ï¼Œç›’å­ä»ç„¶ä¿æŒæ°´å¹³/å‚ç›´å±…ä¸­ */
    transform: translate(-50%, -50%);
    width: 100px;
    height: 100px;
    background-color: pink;
}
&lt;div&gt;
    &lt;p&gt;&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<p>ä¸¤ç§æ–¹æ³•çš„å®ç°æ•ˆæœå®Œå…¨ç›¸åŒï¼Œä½†æ¨èä½¿ç”¨ç¬¬äºŒç§æ–¹æ³•ï¼š</p>
<figure data-type="image" tabindex="3"><img src="http://image.kuranado.com/blog/1603871399.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></figure>
<h2 id="rotate-æ—‹è½¬">rotate æ—‹è½¬</h2>
<ul>
<li>transform:
<ul>
<li>rotate(åº¦æ•°) å•ä½ degï¼Œå¦‚ rotate(45deg)ï¼Œåº¦æ•°å¤§äºé›¶é¡ºæ—¶é’ˆæ—‹è½¬ï¼Œåº¦æ•°å°äºé›¶é€†æ—¶é’ˆæ—‹è½¬ã€‚é»˜è®¤æ—‹è½¬çš„ä¸­å¿ƒç‚¹æ˜¯å…ƒç´ çš„ä¸­å¿ƒç‚¹</li>
</ul>
</li>
<li>transform-origin: x y; è®¾ç½®æ—‹è½¬çš„ä¸­å¿ƒç‚¹
<ul>
<li>x y å¯ä»¥æ˜¯åƒç´ ï¼Œå¯ä»¥æ˜¯ç™¾åˆ†æ¯”ï¼Œè¿˜å¯ä»¥æ˜¯æ–¹ä½åè¯
<ul>
<li>åƒç´  å¦‚ï¼štrasform-origin: 50px 50px; ä»¥å…ƒç´ å·¦ä¸Šè§’å‘å³ 50px å’Œå‘ä¸‹ 50px çš„ç‚¹ä¸ºæ—‹è½¬ä¸­å¿ƒ</li>
<li>ç™¾åˆ†æ¯” å¦‚ï¼štrasform-origin: 50% 50%; ä»¥å…ƒç´ ä¸­å¿ƒç‚¹ä¸ºæ—‹è½¬ä¸­å¿ƒ</li>
<li>æ–¹ä½åè¯ å¯å–å€¼ï¼štop right left bottom centerï¼Œå¦‚ï¼štransform-origin: center center; è¡¨ç¤ºä»¥å…ƒç´ ä¸­å¿ƒç‚¹ä¸ºæ—‹è½¬ä¸­å¿ƒï¼›transform-origin: left bottom; è¡¨ç¤ºä»¥å…ƒç´ å·¦ä¸‹è§’ä¸ºæ—‹è½¬ä¸­å¿ƒ</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code>img {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    border: 10px solid skyblue;
    transition: all 10s;
}
img:hover {
    transform: rotate(9960deg);
}
&lt;img src=&quot;./images/pvp.png&quot; alt=&quot;&quot;&gt;
</code></pre>
<figure data-type="image" tabindex="4"><img src="http://image.kuranado.com/blog/1603871414.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></figure>
<pre><code>div {
    overflow: hidden;
    margin: 0 auto;
    width: 100px;
    height: 100px;
    background-color: skyblue;
}
div::before {
    content: 'æ—‹è½¬åŠ¨ç”»æ•ˆæœ';
    display: block;
    width: 100%;
    height: 100%;
    background-color: pink;
    transform: rotate(90deg);
    transform-origin: left bottom;
    transition: all .3s;
}
div:hover::before {
    /* å¤åŸä¸º 0deg */
    transform: rotate(0deg);
    transform-origin: left bottom;
}
&lt;div&gt;&lt;/div&gt;
</code></pre>
<figure data-type="image" tabindex="5"><img src="http://image.kuranado.com/blog/1603871426.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></figure>
<h3 id="rotate-å®ç°ä¸‰è§’ç®­å¤´">rotate å®ç°ä¸‰è§’ç®­å¤´</h3>
<p>å¾ˆå¤šæ—¶å€™ç”¨åˆ°ä¸‹å›¾è¿™ç§ä¸‰è§’ç®­å¤´éƒ½æ˜¯ä½¿ç”¨å­—ä½“å›¾æ ‡ï¼š</p>
<figure data-type="image" tabindex="6"><img src="http://image.kuranado.com/blog/1603871436.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></figure>
<p>å…¶å®ä½¿ç”¨ rotate ä¹Ÿå®Œå…¨å¯ä»¥å®ç°ï¼Œè¿™éœ€è¦å®šä¹‰ä¸€ä¸ªæ­£æ–¹å½¢ï¼Œåªè®¾ç½®å³è¾¹æ¡†å’Œä¸‹è¾¹æ¡†ï¼Œç„¶åé¡ºæ—¶é’ˆæ—‹è½¬ 45deg å°±å¯ä»¥äº†ï¼š</p>
<pre><code>div {
    position: relative;
    width: 249px;
    height: 30px;
    border: 1px solid black;
}
div::after {
    position: absolute;
    top: 9px;
    right: 20px;
    content: '';
    width: 10px;
    height: 10px;
    border-bottom: 1px solid black;
    border-right: 1px solid black;
    transform: rotate(45deg);
    transition: all .1s;
}
div:hover::after {
    /* 45deg + 180deg = 225degï¼Œè®©ç®­å¤´ç¿»è½¬ä¸ºå‘ä¸Š */
    transform: rotate(225deg);
}
&lt;div&gt;&lt;/div&gt;
</code></pre>
<figure data-type="image" tabindex="7"><img src="http://image.kuranado.com/blog/1603871445.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></figure>
<h2 id="scale-ç¼©æ”¾">scale ç¼©æ”¾</h2>
<ul>
<li>transform:
<ul>
<li>scale å€¼ä¸ºç¼©æ”¾å€æ•°ï¼Œå€æ•°ä¸º 1 è¡¨ç¤ºä¸å˜ï¼Œå¤§äº 1 è¡¨ç¤ºæ”¾å¤§ï¼Œå°äº 1 è¡¨ç¤ºç¼©å°ã€‚é»˜è®¤ç¼©æ”¾çš„ä¸­å¿ƒç‚¹æ˜¯å…ƒç´ çš„ä¸­å¿ƒç‚¹ï¼›
<ul>
<li>transform: scale(å®½åº¦ç¼©æ”¾å€æ•°, é«˜åº¦ç¼©æ”¾å€æ•°); å¦‚ï¼štransform: scale(0.5ï¼Œ0.8); è¡¨ç¤ºå®½åº¦å˜ä¸ºåŸæ¥çš„ 0.5 å€ï¼ˆä¸€åŠï¼‰ï¼Œé«˜åº¦å˜ä¸ºåŸæ¥çš„ 0.8 å€</li>
<li>transform: scale(ç­‰æ¯”ä¾‹ç¼©æ”¾å€æ•°); å¦‚ï¼štransform: scale(2); è¡¨ç¤ºå®½åº¦å˜ä¸ºåŸæ¥çš„ 2 å€ï¼Œé«˜åº¦ä¹Ÿå˜ä¸ºåŸæ¥çš„ä¸¤å€ï¼Œç­‰ä»·äº transform: scale(2ï¼Œ2);</li>
</ul>
</li>
</ul>
</li>
<li>transform-origin: x y; è®¾ç½®ç¼©æ”¾çš„ä¸­å¿ƒç‚¹
<ul>
<li>x y å¯ä»¥æ˜¯åƒç´ ï¼Œå¯ä»¥æ˜¯ç™¾åˆ†æ¯”ï¼Œè¿˜å¯ä»¥æ˜¯æ–¹ä½åè¯
<ul>
<li>åƒç´  å¦‚ï¼štrasform-origin: 50px 50px; ä»¥å…ƒç´ å·¦ä¸Šè§’å‘å³ 50px å’Œå‘ä¸‹ 50px çš„ç‚¹ä¸ºç¼©æ”¾ä¸­å¿ƒ</li>
<li>ç™¾åˆ†æ¯” å¦‚ï¼štrasform-origin: 50% 50%; ä»¥å…ƒç´ ä¸­å¿ƒç‚¹ä¸ºç¼©æ”¾ä¸­å¿ƒ</li>
<li>æ–¹ä½åè¯ å¯å–å€¼ï¼štop right left bottom centerï¼Œå¦‚ï¼štransform-origin: center center; è¡¨ç¤ºä»¥å…ƒç´ ä¸­å¿ƒç‚¹ä¸ºç¼©æ”¾ä¸­å¿ƒï¼›transform-origin: left bottom; è¡¨ç¤ºä»¥å…ƒç´ å·¦ä¸‹è§’ä¸ºç¼©æ”¾ä¸­å¿ƒ</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>æ³¨æ„</strong>ï¼š</p>
<ul>
<li>scale æœ€å¤§çš„ä¼˜ç‚¹æ˜¯<strong>ä¸ä¼šå½±å“å…¶å®ƒå…ƒç´ çš„ä½ç½®</strong></li>
</ul>
<h3 id="scale-å›¾ç‰‡æ‚¬æµ®æ¡ˆä¾‹">scale å›¾ç‰‡æ‚¬æµ®æ¡ˆä¾‹</h3>
<pre><code>div {
    float: left;
    margin-right: 20px;
    overflow: hidden;
    width: 300px;
    height: 280px;
}
div img {
    width: 100%;
    height: 100%;
    transition: all .4s;
}
div img:hover{
    transform: scale(1.1);
}
&lt;div&gt;
    &lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;./images/happy.jpg&quot; alt=&quot;&quot;/&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;div&gt;
    &lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;./images/happy.jpg&quot; alt=&quot;&quot;/&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;div&gt;
    &lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;./images/happy.jpg&quot; alt=&quot;&quot;/&gt;&lt;/a&gt;
&lt;/div&gt;
</code></pre>
<figure data-type="image" tabindex="8"><img src="http://image.kuranado.com/blog/1603871457.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></figure>
<h3 id="scale-åˆ†é¡µæŒ‰é’®æ¡ˆä¾‹">scale åˆ†é¡µæŒ‰é’®æ¡ˆä¾‹</h3>
<pre><code>.page ul li {
    float: left;
    margin: 0 10px;
    list-style: none;
    width: 30px;
    height: 30px;
    text-align: center;
    line-height: 30px;
    border: 1px solid skyblue;
    border-radius: 50%;
    transition: all .1s;
}
.page ul li a {
    text-decoration: none;
    color: black
}
.page ul li:hover {
    transform: scale(1.2);
}
&lt;div class=&quot;page&quot;&gt;
    &lt;ul&gt;
        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;1&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;2&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;3&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;4&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;5&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;6&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;7&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;8&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;9&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;
</code></pre>
<figure data-type="image" tabindex="9"><img src="http://image.kuranado.com/blog/1603871467.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></figure>
<h2 id="transform-ç»¼åˆå†™æ³•æ³¨æ„äº‹é¡¹">transform ç»¼åˆå†™æ³•æ³¨æ„äº‹é¡¹</h2>
<p>transform å±æ€§å¯åŒæ—¶ä½¿ç”¨å¤šä¸ªè½¬æ¢ï¼Œå¦‚ï¼štransform: translate() rotate() scaleï¼Œè¿™ç§æƒ…å†µä¸‹è¯·æ³¨æ„å±æ€§å€¼çš„å…ˆåé¡ºåºå°†ä¼šå½±å“è½¬æ¢æ•ˆæœ<br>
å¦‚ï¼š</p>
<pre><code>transform: rotate(180deg) translate(150px, 50px);
</code></pre>
<p>å’Œï¼š</p>
<pre><code>transform: translate(150px, 50px) rotate(180deg);
</code></pre>
<p>çš„æ•ˆæœæ˜¯å®Œå…¨ä¸åŒçš„ï¼Œå‰è€…å…ˆé¡ºæ—¶é’ˆæ—‹è½¬ 180degï¼Œç„¶ååœ¨æ—‹è½¬åçš„åŸºç¡€ä¸Šå‘å³ç§»åŠ¨ 150pxï¼Œå‘ä¸‹ç§»åŠ¨ 50pxï¼›è€Œåè€…æ˜¯å…ˆå‘å³ç§»åŠ¨ 150pxï¼Œå‘ä¸‹ç§»åŠ¨ 50pxï¼Œå†é¡ºæ—¶é’ˆæ—‹è½¬ 180deg<br>
æ‰€ä»¥ï¼Œå½“æˆ‘ä»¬åŒæ—¶æœ‰ä½ç§»å’Œå…¶å®ƒå±æ€§æ—¶ï¼Œè®°å¾—è¦å°†ä½ç§»æ”¾åˆ°æœ€å‰é¢</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[LeetCode - 365. æ°´å£¶é—®é¢˜]]></title>
        <id>http://blog.kuranado.com/post/leetcode-365-shui-hu-wen-ti/</id>
        <link href="http://blog.kuranado.com/post/leetcode-365-shui-hu-wen-ti/">
        </link>
        <updated>2020-10-27T15:30:26.000Z</updated>
        <content type="html"><![CDATA[<h2 id="365-æ°´å£¶é—®é¢˜"><a href="https://leetcode-cn.com/problems/water-and-jug-problem/">365. æ°´å£¶é—®é¢˜</a> 2020å¹´3æœˆ21æ—¥æ˜ŸæœŸå…­</h2>
<p>æœˆåº¦æ‰“å¡é¢˜<br>
æäº¤äº† 5 æ¬¡ï¼Œä»£ç  50 è¡Œå·¦å³ï¼Œ'é™¤é›¶å¼‚å¸¸ã€è¶…æ—¶ï¼ˆæ­»å¾ªç¯ï¼‰ã€è§£ç­”é”™è¯¯ï¼Œæ™šä¸Š 11 ç‚¹å¤šï¼Œçœ‹äº†é¢˜è§£ï¼Œæ˜¯ä¸ªæ•°å­¦é—®é¢˜ï¼Œå‡ è¡Œä»£ç æå®šã€‚æ„Ÿå—åˆ°æ™ºå•†è¢«ç¢¾å‹ï¼Œæœæ°”ï¼Œå¾ˆæœæ°”ï¼ï¼ï¼</p>
<figure data-type="image" tabindex="1"><img src="http://image.kuranado.com/blog/1603812653.png?imageMogr2/thumbnail/!70p" alt="" loading="lazy"></figure>
<p>é¦–å…ˆçœ‹ä¸¤ä¸ªç¤ºä¾‹ï¼š<br>
ç¤ºä¾‹ 1ï¼šx = 3, y = 5, z = 4<br>
ç¤ºä¾‹ 2ï¼šx = 3, y = 11, z = 13<br>
å¯¹äºç¤ºä¾‹ 1ï¼šå¯ä»¥æ»¡è¶³é¢˜ç›®æ¡ä»¶ï¼Œå…·ä½“æ“ä½œæ­¥éª¤ä¸ºï¼š</p>
<ol>
<li>A è£…æ»¡æ°´ï¼Œå€’åˆ° B ä¸­ã€‚æ­¤æ—¶ A ä¸­æ°´é‡ä¸º 0Lï¼ŒB ä¸­æ°´é‡ä¸º 0 + 3 = 3L</li>
<li>A è£…æ»¡æ°´ï¼Œå€’åˆ° B ä¸­ï¼Œå› ä¸º A å‰©ä¸‹çš„å®¹é‡ä¸º y - 3 = 2Lï¼Œæ‰€ä»¥ A åªèƒ½å‘ B ä¸­å€’å…¥ 2L æ°´ï¼Œå‰©ä¸‹ 1L ç•™åœ¨ A ä¸­ã€‚æ­¤æ—¶ A ä¸­æ°´é‡ä¸º 1Lï¼ŒB ä¸­æ°´é‡ä¸º 5L</li>
<li>B ä¸­æ°´å…¨éƒ¨å€’æ‰ï¼ŒA ä¸­çš„ 1L æ°´å€’å…¥ B ä¸­ã€‚æ­¤æ—¶ A ä¸­æ°´é‡ä¸º 0Lï¼ŒB ä¸­æ°´é‡ä¸º 1L</li>
<li>A è£…æ»¡æ°´ã€‚æ­¤æ—¶ A ä¸­æ°´é‡ä¸º 3Lï¼ŒB ä¸­æ°´é‡ä¸º 1Lï¼ŒåŠ åœ¨ä¸€å—ç­‰äº 4Lï¼Œä¹Ÿå°±æ˜¯ç­‰äº zï¼Œç¤ºä¾‹ä¸€æ•°æ®æ»¡è¶³æ¡ä»¶</li>
</ol>
<p>å¯¹äºç¤ºä¾‹ 2ï¼šå¯ä»¥æ»¡è¶³é¢˜ç›®æ¡ä»¶ï¼Œå…·ä½“æ“ä½œæ­¥éª¤ä¸ºï¼š</p>
<ol>
<li>A è£…æ»¡æ°´ï¼Œå€’åˆ° B ä¸­ã€‚æ­¤æ—¶ A ä¸­æ°´é‡ä¸º 0Lï¼ŒB ä¸­æ°´é‡ä¸º 0 + 3 = 3L</li>
<li>A è£…æ»¡æ°´ï¼Œå€’åˆ° B ä¸­ã€‚æ­¤æ—¶ A ä¸­æ°´é‡ä¸º 0Lï¼ŒB ä¸­æ°´é‡ä¸º 3 + 3 = 6L</li>
<li>A è£…æ»¡æ°´ï¼Œå€’åˆ° B ä¸­ã€‚æ­¤æ—¶ A ä¸­æ°´é‡ä¸º 0Lï¼ŒB ä¸­æ°´é‡ä¸º 6 + 3 = 9L</li>
<li>A è£…æ»¡æ°´ï¼Œå€’åˆ° B ä¸­ï¼Œå› ä¸º A å‰©ä¸‹çš„å®¹é‡ä¸º y - 9 = 2Lï¼Œæ‰€ä»¥ A åªèƒ½å‘ B ä¸­å€’å…¥ 2L æ°´ï¼Œå‰©ä¸‹ 1L ç•™åœ¨ A ä¸­ã€‚æ­¤æ—¶ A ä¸­æ°´é‡ä¸º 1Lï¼ŒB ä¸­æ°´é‡ä¸º 11L</li>
<li>B ä¸­æ°´å…¨éƒ¨å€’æ‰ï¼ŒA ä¸­çš„ 1L æ°´å€’å…¥ B ä¸­ã€‚æ­¤æ—¶ A ä¸­æ°´é‡ä¸º 0Lï¼ŒB ä¸­æ°´é‡ä¸º 1L</li>
<li>A è£…æ»¡æ°´ï¼Œå€’åˆ° B ä¸­ã€‚æ­¤æ—¶ A ä¸­æ°´é‡ä¸º 0Lï¼ŒB ä¸­æ°´é‡ä¸º 1 + 3 = 4L</li>
<li>A è£…æ»¡æ°´ï¼Œå€’åˆ° B ä¸­ã€‚æ­¤æ—¶ A ä¸­æ°´é‡ä¸º 0Lï¼ŒB ä¸­æ°´é‡ä¸º 4 + 3 = 7L</li>
<li>A è£…æ»¡æ°´ï¼Œå€’åˆ° B ä¸­ã€‚æ­¤æ—¶ A ä¸­æ°´é‡ä¸º 0Lï¼ŒB ä¸­æ°´é‡ä¸º 7 + 3 = 10L</li>
<li>A è£…æ»¡æ°´ï¼Œå€’åˆ° B ä¸­ï¼Œå› ä¸º A å‰©ä¸‹çš„å®¹é‡ä¸º y - 10 = 1Lï¼Œæ‰€ä»¥ A åªèƒ½å‘ B ä¸­å€’å…¥ 1L æ°´ï¼Œå‰©ä¸‹ 2L ç•™åœ¨ A ä¸­ã€‚æ­¤æ—¶ A ä¸­æ°´é‡ä¸º 2Lï¼ŒB ä¸­æ°´é‡ä¸º 11Lï¼ŒåŠ åœ¨ä¸€å—ç­‰äº 13Lï¼Œä¹Ÿå°±æ˜¯ç­‰äº zï¼Œç¤ºä¾‹äºŒæ•°æ®æ»¡è¶³æ¡ä»¶</li>
</ol>
<p>ä»ä¸Šé¢çš„æ¨¡æ‹Ÿå¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬çš„æ¯ä¸€æ­¥æ“ä½œï¼Œéƒ½åªä¼šç»™æ°´çš„æ€»é‡å¸¦æ¥ x æˆ– y çš„å˜åŒ–ï¼Œå³è¦ä¹ˆå¢åŠ æˆ–å‡å°‘ xL æ°´ï¼Œè¦ä¹ˆå¢åŠ æˆ–å‡å°‘ yL æ°´<br>
å¦‚å¯¹äºç¤ºä¾‹ä¸€çš„æ¯ä¸€æ­¥æ“ä½œï¼Œä¸¤å£¶æ°´çš„æ€»é‡å˜åŒ–å¦‚ä¸‹ï¼š</p>
<ol>
<li>A ä¸­æ°´é‡ä¸º 0Lï¼ŒB ä¸­æ°´é‡ä¸º 3Lï¼Œæ€»æ°´é‡ = 0 + 3 = 3L</li>
<li>A ä¸­æ°´é‡ä¸º 1Lï¼ŒB ä¸­æ°´é‡ä¸º 5Lï¼Œæ€»æ°´é‡ = 1 + 5 = 6L</li>
<li>A ä¸­æ°´é‡ä¸º 0Lï¼ŒB ä¸­æ°´é‡ä¸º 1Lï¼Œæ€»æ°´é‡ä¸º 0 + 1 = 1L</li>
<li>A ä¸­æ°´é‡ä¸º 3Lï¼ŒB ä¸­æ°´é‡ä¸º 1Lï¼Œæ€»æ°´é‡ä¸º 3 + 1 = 4L</li>
</ol>
<p>ç¡®å®æ˜¯æ¯ä¸€æ­¥æ“ä½œéƒ½åªä¼šå¯¹ä¸¤å£¶æ°´çš„æ€»é‡å¸¦æ¥ x æˆ– y çš„å˜åŒ–ï¼Œå¯¹äºç¤ºä¾‹ä¸€ï¼Œå˜åŒ–è¿‡ç¨‹ä¸º 0 + x + x - y + x = 0 + 3 + 3 - 5 + 3 = 4<br>
åŒæ ·å¯¹äºç¤ºä¾‹äºŒï¼Œä¹Ÿæ˜¯æ»¡è¶³è¿™ä¸ªè§„å¾‹çš„ï¼Œæ­¤å¤„å°±ä¸å†èµ˜è¿°äº†<br>
ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦èƒ½å¤Ÿæ‰¾åˆ°ä¸€å¯¹æ•´æ•° aã€bï¼Œæ»¡è¶³ ax + by = zï¼Œå°±è¯´æ˜æ˜¯æ»¡è¶³æ¡ä»¶çš„ï¼Œä¾‹å¦‚å¯¹äºç¤ºä¾‹ä¸€ï¼Œa = 3ï¼Œb = -1<br>
æ ¹æ®<a href="https://baike.baidu.com/item/%E8%A3%B4%E8%9C%80%E5%AE%9A%E7%90%86/5186593?fromtitle=%E8%B4%9D%E7%A5%96%E5%AE%9A%E7%90%86&amp;fromid=5185441">è£´èœ€å®šç†</a>ï¼š<br>
<strong>ax + by = z æœ‰è§£å½“ä¸”ä»…å½“ z æ˜¯ xï¼Œy çš„æœ€å¤§å…¬çº¦æ•°çš„å€æ•°</strong>ï¼Œä¹Ÿå°±æ˜¯ z % gcd(x, y) == 0</p>
<p>ä»¥ä¸Šå°±æ˜¯æœ¬é¢˜çš„è§£é¢˜æ€è·¯ï¼Œæ­¤å¤–è¿˜éœ€è¦æ³¨æ„ï¼Œå¦‚æœ z == 0 æ˜¯ç›´æ¥æ»¡è¶³æ¡ä»¶çš„ï¼Œä¸éœ€è¦è¿›è¡Œä»»ä½•è®¡ç®—ã€‚å¦å¤–è¿™é‡Œæ±‚æœ€å¤§å…¬çº¦æ•°çš„ç®—æ³•ä¸ºæ¬§å‡ é‡Œå¾—ç®—æ³•ã€‚æœ€ç»ˆä»£ç å¦‚ä¸‹ï¼š</p>
<h3 id="æœ€ç»ˆä»£ç -0ms">æœ€ç»ˆä»£ç  0ms</h3>
<pre><code class="language-java">class Solution {
    public boolean canMeasureWater(int x, int y, int z) {
        return z == 0 || (x + y &gt;= z &amp;&amp; z % gcd(x, y) == 0);
    }

    int gcd(int a, int b) {
        return b == 0 ? a : gcd(b, a % b);
    }
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[LeetCode - 3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²]]></title>
        <id>http://blog.kuranado.com/post/leetcode-3-wu-chong-fu-zi-fu-de-zui-chang-zi-chuan/</id>
        <link href="http://blog.kuranado.com/post/leetcode-3-wu-chong-fu-zi-fu-de-zui-chang-zi-chuan/">
        </link>
        <updated>2020-10-26T12:40:09.000Z</updated>
        <content type="html"><![CDATA[<h2 id="3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"><a href="https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/">3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</a> 2020å¹´3æœˆ20æ—¥æ˜ŸæœŸäº” - 2020å¹´3æœˆ21æ—¥æ˜ŸæœŸå…­</h2>
<p>åšå®Œæœ€å°çš„ k ä¸ªæ•°å®Œæˆæ‰“å¡ï¼Œç´§æ¥ç€çœ‹äº†è¿™ä¸€é¢˜ï¼Œå…ˆç”¨ Set å®ç°äº†ä¸€éï¼Œæ‰§è¡Œç”¨æ—¶ 131 msï¼Œç¬¬äºŒå¤©ï¼Œåœ¨ iPad ä¸Šç”»äº†ç‚¹è‰ç¨¿ï¼Œä½¿ç”¨åŒå±‚å¾ªç¯åˆå®ç°äº†ä¸€éï¼Œæ‰§è¡Œç”¨æ—¶ 6ms</p>
<h3 id="è§£æ³•ä¸€-131ms">è§£æ³•ä¸€ 131ms</h3>
<p>ä»£ç ç®€å•æ˜äº†ï¼Œä½†ç”¨æ—¶å¾ˆå¤š</p>
<pre><code class="language-java">class Solution {
    public int lengthOfLongestSubstring(String s) {
        int max = -1;
        Set&lt;Character&gt; set = new HashSet&lt;&gt;();
        int j = 0;
        for (int i = 0; i &lt; s.length(); i++) {
            char c = s.charAt(i);
            boolean add = set.add(c);
            if (!add) {
                if (set.size() &gt; max) {
                    max = set.size();
                }
                set.clear();
                while (j &lt; i) {
                    if (s.charAt(j) == c) {
                        i = j;
                        j++;
                        break;
                    }
                    j++;
                }
            }
        }
        return Math.max(set.size(), max);
    }
}
</code></pre>
<h3 id="è§£æ³•äºŒ-6ms">è§£æ³•äºŒ 6ms</h3>
<p>ä»£ç å…¶å®ä¹Ÿä¸éš¾ï¼Œéœ€è¦å®šä¹‰ä¸€ä¸ªå˜é‡è·³ç´¢å¼•ï¼Œç”¨äºè·³è¿‡å·²ç»åˆ¤æ–­è¿‡çš„ç¬¦å·ã€‚ç¬¬ä¸€æ¬¡æäº¤æ—¶ï¼Œæ²¡æœ‰åˆ¤æ–­è¾“å…¥æ˜¯ç©ºå­—ç¬¦ä¸²çš„æƒ…å†µï¼Œå¯¼è‡´åˆ¤é¢˜è¿”å›è§£ç­”é”™è¯¯</p>
<pre><code class="language-java">class Solution {
    public int lengthOfLongestSubstring(String s) {
        if (&quot;&quot;.equals(s)) {
            return
                0;
        }
        int max = -1;
        int tmp = 0;
        int length = 1;
        for (int i = 0; i &lt; s.length(); i++) {
            for (int j = tmp; j &lt; i; j++) {
                if (s.charAt(i) == s.charAt(j)) {
                    length = i - tmp;
                    tmp = j + 1;
                    break;
                }
                if (j == s.length() - 2) {
                    length = s.length() - tmp;
                }
            }
            if (length &gt; max) {
                max = length;
            }
        }
        return max;
    }
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[LeetCode 409. æœ€é•¿å›æ–‡ä¸²]]></title>
        <id>http://blog.kuranado.com/post/leetcode-409-zui-chang-hui-wen-chuan/</id>
        <link href="http://blog.kuranado.com/post/leetcode-409-zui-chang-hui-wen-chuan/">
        </link>
        <updated>2020-10-24T03:28:24.000Z</updated>
        <content type="html"><![CDATA[<h2 id="409-æœ€é•¿å›æ–‡ä¸²"><a href="https://leetcode-cn.com/problems/longest-palindrome/">409. æœ€é•¿å›æ–‡ä¸²</a> 2020å¹´3æœˆ19æ—¥æ˜ŸæœŸå››</h2>
<p>æœˆåº¦æ‰“å¡é¢˜</p>
<p>ä»”ç»†ç ”ç©¶äº†ä¸‹è§„å¾‹ï¼Œå¾—åˆ°å¦‚ä¸‹ç»“è®ºï¼š</p>
<ul>
<li>å­—æ¯ä¸ªæ•°å¦‚æœæ˜¯å¶æ•°ï¼Œåˆ™å¿…ç„¶æ»¡è¶³ï¼Œç›´æ¥æŠŠä¸ªæ•°ç›¸åŠ </li>
<li>å¦‚æœåªæœ‰ä¸€ä¸ªå­—æ¯çš„ä¸ªæ•°æ˜¯å¥‡æ•°ï¼Œåˆ™å¿…ç„¶æ»¡è¶³ï¼Œç›´æ¥æŠŠè¯¥å­—æ¯å¯¹åº”ä¸ªæ•°ï¼ˆå¥‡æ•°ï¼‰ç›´æ¥ç›¸åŠ </li>
<li>å¦‚æœå­˜åœ¨ &gt; 1 ä¸ªå­—æ¯çš„ä¸ªæ•°æ˜¯å¥‡æ•°ï¼Œåˆ™å…¶ä¸­ä»»æ„ä¸€ä¸ªå­—æ¯ä¸ªæ•°ï¼ˆå¥‡æ•°ï¼‰ç›´æ¥ç›¸åŠ ï¼Œå…¶ä»–å­—æ¯ä¸ªæ•° - 1 åå†ç›¸åŠ </li>
</ul>
<p>ç»¼ä¸Šï¼Œå…¶å®æœ€ç»ˆç»“è®ºå°±æ˜¯ï¼šåªè¦æ˜¯å­—æ¯å¯¹åº”ä¸ªæ•°æ˜¯å¶æ•°ï¼Œç›´æ¥ç›¸åŠ ï¼Œå¦‚æœæ˜¯å¥‡æ•°ï¼Œç¬¬ä¸€ä¸ªå¥‡æ•°ä¹Ÿç›´æ¥ç›¸åŠ ï¼Œå‰©ä½™çš„å¥‡æ•° - 1 åå†ç›¸åŠ </p>
<h3 id="æœ€ç»ˆä»£ç -3ms">æœ€ç»ˆä»£ç  3ms</h3>
<pre><code class="language-java">class Solution {
    public int longestPalindrome(String s) {
        int[] arr = new int[52];

        for (int i = 0; i &lt; s.length(); i++) {
            char c = s.charAt(i);
            if (c &gt;= 'A' &amp;&amp; c &lt;= 'Z') {
                arr[c - 'A']++;
            }
            if (c &gt;= 'a' &amp;&amp; c &lt;= 'z') {
                arr[c - 71]++;
            }
        }
        int sum = 0;
        boolean firstOdd = true;
        int odd = 0;
        for (int i = 0; i &lt; arr.length; i++) {
            if (arr[i] == 0) {
                continue;
            }
            if (arr[i] % 2 == 0) {
                sum += arr[i];
            } else {
                sum += arr[i] - 1;
                odd = 1;
            }
        }
        sum += odd;
        return sum;
    }
}
</code></pre>
<p>LeetCode ä¸Š 1ms çš„æ‰§è¡ŒèŒƒä¾‹ï¼š</p>
<pre><code class="language-java">class Solution {
    public int longestPalindrome(String s) {
        if (s == null) return 0;
        
        int[] f = new int[75];
        for (char ch : s.toCharArray()) {
            f[ch - '0']++;
        }
        int res = 0, odd = 0;
        for (int num : f) {
            if (num == 0) continue;
            res += num / 2 * 2;
            
            if (num % 2 == 1) {
                odd = 1;    
            } 
        }
        res += odd;
        return res;
    }
}
</code></pre>
]]></content>
    </entry>
</feed>